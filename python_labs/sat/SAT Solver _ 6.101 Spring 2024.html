<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.3.118aecfb.  miau. -->
<meta charset="utf-8"/>
<title>SAT Solver | 6.101 Spring 2024</title>
<link href="https://py.mit.edu/_static/spring24/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style2 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style2 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style1 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style1 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style3 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style3 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style4 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style4 [id$=nsubmits_left] {
  display: none;
}
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script type="text/javascript">
function reload_code_submit() {
    fetch("?action=render_single_question&name=code_submit")
      .then((result) => {return result.text();})
      .then(result => {
        document.getElementById("cs_qdiv_code_submit").innerHTML = result;
        catsoop.run_all_scripts("cs_qdiv_code_submit");
       });
}

</script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring24"><img src="https://py.mit.edu/_static/spring24/logo.gif"/> 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_a47c0b052b07cf284d5c1a10c5c01779">Information<span aria-hidden="true" class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_a47c0b052b07cf284d5c1a10c5c01779" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_b9dc042de2af354be940e64309a7e5f1">gvargas1<span aria-hidden="true" class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_b9dc042de2af354be940e64309a7e5f1" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/ssh_keys" onblur="catsoop.topMenuFocus(event);" role="menuitem">Manage SSH Keys</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/_util/user_settings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Settings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/labs/sat?loginaction=logout" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log Out</a></div></div><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring24">Home</a></li><li><a href="https://py.mit.edu/spring24/labs/sat">SAT Solver</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">SAT Solver</h1></center>
<style>
html {
    color: #333;
}
</style>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2) Introduction</a></li><ul><li><a href="#_solving_the_puzzle">2.1) Solving the Puzzle</a></li><li><a href="#_conjunctive_normal_form">2.2) Conjunctive Normal Form</a></li><ul><li><a href="#_python_representation">2.2.1) Python Representation</a></li><li><a href="#_examples">2.2.2) Examples</a></li></ul></ul><li><a href="#_sat_solver">3) SAT Solver</a></li><ul><li><a href="#_the_naive_approach">3.1) The Naive Approach</a></li><li><a href="#_a_nicer_approach">3.2) A Nicer Approach</a></li><ul><li><a href="#_updating_expressions">3.2.1) Updating Expressions</a></li><li><a href="#_examples_2">3.2.2) Examples</a></li></ul></ul><li><a href="#_implementation">4) Implementation</a></li><li><a href="#_optimizations">5) Optimizations</a></li><li><a href="#_scheduling_by_reduction">6) Scheduling by Reduction</a></li><ul><li><a href="#_encoding_the_rules">6.1) Encoding the Rules</a></li><ul><li><a href="#_students_only_in_desired_sessions">6.1.1) Students Only In Desired Sessions</a></li><li><a href="#_each_student_in_exactly_one_session">6.1.2) Each Student In Exactly One Session</a></li><li><a href="#_no_oversubscribed_sessions">6.1.3) No Oversubscribed Sessions</a></li></ul></ul><li><a href="#_ui">7) UI</a></li><li><a href="#_code_submission">8) Code Submission</a></li></ul>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">§</a></h2></p>
<p>This lab assumes you have Python 3.11 or later installed on your machine (3.12
recommended).</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a download="sat.zip" href="https://py.mit.edu/spring24/lab_distribution.zip?path=%5B%22spring24%22%2C+%22labs%22%2C+%22sat%22%5D"><tt>sat.zip</tt></a></p>
<p>Most of your changes should be made to <code>lab.py</code>, which you will submit at the
end of this lab.  Importantly, you should not add any imports to the file.</p>
<p>Your raw score for this lab will be counted out of 5 points.  Your score for
the lab is based on:</p>
<ul>
<li>a style check (1 point), and</li>
<li>passing the tests in <code>test.py</code> (4 points).</li>
</ul>
<div class="callout callout-error"><div class="callout-title">Reminder: Academic Integrity</div>
<p>Please also review the <a href="https://py.mit.edu/spring24/info/academic_integrity">academic-integrity policies</a> before
continuing.  In particular, <strong>note that you are not allowed to use any code
other than that which you have written yourself, including code from online sources.</strong></p>
</div>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2) Introduction<a class="cs_permalink" href="#_introduction">§</a></h2></p>
<p>From recreational mathematics to standardized tests, one popular problem genre
is <i>logic puzzles</i>, where some space of possible choices is described
using a list of rules.  A solution to the puzzle is a choice (often the one
unique choice) that obeys the rules.  This lab should give you the tools to
make short work of any of those puzzles, assuming you have your trusty Python
interpreter.</p>
<p>Here's an example of the kind of logic puzzle we have in mind.</p>
<div class="question">
The 6.101 staff were pleased to learn that grateful alumni had donated cupcakes
for last week's staff meeting. Unfortunately, the cupcakes were gone when the
staff showed up for the meeting! Who ate the cupcakes?
<ol>
<li>The suspects are Adam, Duane, Jonathan, Saman, and Tim the Beaver.</li>
<li>Whichever suspect ate any of the cupcakes must have eaten <i>all</i> of them.</li>
<li>The cupcakes included exactly two of the flavors chocolate, vanilla, and pickles.</li>
<li>Duane only eats pickles-flavored cupcakes.</li>
<li>Years ago, Jonathan and Saman made a pact that, whenever either of them eats cupcakes, they must share with the other one.</li>
<li>Adam feels strongly about flavor fairness and will only eat cupcakes if he can include at least 3 different flavors.</li>
</ol>
</div>
<p>Let's translate the problem into <a href="https://en.wikipedia.org/wiki/Boolean_algebra">Boolean logic</a>,
where we have a set of variables, each of which takes the value <code>True</code> or <code>False</code>.
We write the rules as conditions over these variables.  Here is each rule as a
Python expression over Boolean variables.  We include one variable for the
guilt of each suspect, plus one variable for each potential flavor of cupcake.</p>
<p>In reading these rules, note that Python <code>not</code> binds more tightly than <code>or</code>, so
that <code>not p or q</code> is the same as <code>(not p) or q</code>.  It's also fine not to follow
every last detail, as this rule set is just presented as one example of a
general idea!</p>
<p>You may also find that some of our encoding choices don't match what you would
come up with, such that our choices lead to longer or less-comprehensible
rules.  We are actually intentionally forcing ourselves to adhere to a
restricted format that we will explain shortly and that will ultimately make
the job of <em>solving</em> these kinds of problems more straightforward.</p>
<pre><code class="language-python">rule1 = (duane or adam or jonathan or saman or tim)
# At least one of them must have committed the crime!  Here, one of these
# variables being True represents that person having committed the crime.


rule2 = ((not duane or not adam)
     and (not duane or not jonathan)
     and (not duane or not saman)
     and (not duane or not tim)
     and (not adam or not jonathan)
     and (not adam or not saman)
     and (not adam or not tim)
     and (not jonathan or not saman)
     and (not jonathan or not tim)
     and (not saman or not tim))
# At most one of the suspects is guilty.  In other words, for any pair of
# suspects, at least one must be NOT guilty (so that we cannot possibly find
# two or more people guilty).

# Together, rule2 and rule1 guarantee that exactly one suspect is guilty.


rule3 = ((not chocolate or not vanilla or not pickles)
     and (chocolate or vanilla)
     and (chocolate or pickles)
     and (vanilla or pickles))
# Here is our rule that the cupcakes included exactly two of the flavors.  Put
# another way: we can't have all flavors present; and, additionally, among
# any pair of flavors, at least one was present.


rule4 = ((not duane or pickles)
     and (not duane or not chocolate)
     and (not duane or not vanilla))
# If Duane is guilty, this will evaluate to True only if only pickles-flavored
# cupcakes were present.  If Duane is not guilty, this will always evaluate to
# True.  This is our way of encoding the fact that, if Duane is guilty, only
# pickles-flavored cupcakes must have been present.


rule5 = (not jonathan or saman) and (not saman or jonathan)
# If Jonathan ate cupcakes without sharing with Saman, the first case will fail
# to hold.  Likewise for Saman eating without sharing.  Since Jonathan and Saman
# only eat cupcakes together, this rule excludes the possibility that only one
# of them ate cupcakes.


rule6 = ((not adam or chocolate)
     and (not adam or vanilla)
     and (not adam or pickles))
# If Adam is the culprit and we left out a flavor, the corresponding case here
# will fail to hold.  So this rule encodes the restriction that Adam can only
# be guilty if all three types of cupcakes are present.


satisfied = rule1 and rule2 and rule3 and rule4 and rule5 and rule6
</code></pre>
<p>The piece of code above is a Python program that will tell us whether a given
assignment is consistent with the rules we have laid out.  For example, if we
had set the following variables (representing the hypothesis that Duane was
guilty and that only pickles-flavored cupcakes were present):</p>
<pre><code class="language-py">duane = True
adam = False
jonathan = False
saman = False
tim = False

pickles = True
vanilla = False
chocolate = False
</code></pre>
<p>and then run the code, the <code>satisfied</code> variable would be set to <code>False</code> (since
<code>rule3</code> would be <code>False</code>), indicating that this assignment did not satisfy the
rules we had set out.</p>
<p>
<!--START question satisfied1 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_satisfied1" style="position: static">
<div id="satisfied1_rendered_question">
<div id="catsoop_preamble_satisfied1"></div>
<div id="catsoop_prompt_satisfied1" style="display: inline;"><p>If we instead try the following bindings, what is the result of <code>satisfied</code>?
You can test this by running the code on your own machine!</p>
<pre><code class="language-python">duane = False
adam = False
jonathan = False
saman = False
tim = True

pickles = False
vanilla = True
chocolate = False
</code></pre>
</div><input aria-labelledby="catsoop_prompt_satisfied1" id="satisfied1" name="satisfied1" size="50" type="text" value="False"/>
</div><div>
<span id="satisfied1_buttons">
<button class="submit btn btn-catsoop" id="satisfied1_submit" onclick="catsoop.submit('satisfied1');" style="margin-top: 10px;">Submit</button></span>
<span id="satisfied1_loading_wrapper" role="status">
<span id="satisfied1_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="satisfied1_score_display" role="status"></span>
<div class="nsubmits_left" id="satisfied1_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="satisfied1_solution_container">
<div id="satisfied1_solution">
</div>
<div id="satisfied1_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="satisfied1_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br/></div>
</div>
</section>
<!--END question satisfied1 -->
</p>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_solving_the_puzzle"></a><h3 class="cs_section_title">2.1) Solving the Puzzle<a class="cs_permalink" href="#_solving_the_puzzle">§</a></h3></p>
<p>While code like the above could be useful in certain situations, it doesn't
help us <em>solve</em> the problem (it only helps us check a possible solution).  In this lab,
we'll look at the problem of <a href="https://en.wikipedia.org/wiki/Boolean_satisfiability_problem">Boolean
satisfiability</a>: our goal will be, given a description of Boolean variables
and constraints on them (like that given above), to find a set of assignments
that satisfies all of the given constraints.</p>
<p><a class="anchor" name="catsoop_section_2_2"></a><a class="anchor" name="_conjunctive_normal_form"></a><h3 class="cs_section_title">2.2) Conjunctive Normal Form<a class="cs_permalink" href="#_conjunctive_normal_form">§</a></h3></p>
<p>In encoding the puzzle, we followed a very regular structure in our Boolean
formulas, one important enough to have a common name: <a href="https://en.wikipedia.org/wiki/Conjunctive_normal_form">conjunctive normal
form (CNF)</a>.</p>
<p>In this form, we say that a <i>literal</i> is a variable or the <code>not</code> of a variable.
Then a <i>clause</i> is a multiway <code>or</code> of literals, and a CNF <em>formula</em> is a
multiway <code>and</code> of clauses.</p>
<p>It's okay if this representation does not feel completely natural.  Some people
find this form to be "backwards" from the way they would otherwise think about
these constraints.  However, forcing our constraints to be in this form can
simplify the problem of implementing our solver, compared to other
representations we could choose.  We'll try in this writeup to help you with
the pieces of the lab involving converting expressions to CNF.</p>
<p><a class="anchor" name="catsoop_section_2_2_1"></a><a class="anchor" name="_python_representation"></a><h4 class="cs_section_title">2.2.1) Python Representation<a class="cs_permalink" href="#_python_representation">§</a></h4></p>
<p>When we commit to representing problems in CNF, we can represent:</p>
<ul>
<li>a <em>variable</em> as a Python string</li>
<li>a <em>literal</em> as a pair (a tuple), containing a variable and a Boolean value
(<code>False</code> if <code>not</code> appears in this literal, <code>True</code> otherwise)</li>
<li>a <em>clause</em> as a list of literals</li>
<li>a <em>formula</em> as a list of clauses</li>
</ul>
<p>For example, our puzzle from above can be encoded as follows, where again it is
OK not to read through every last detail.</p>
<pre><code class="language-python">rule1 = [[('duane', True), ('adam', True), ('jonathan', True),
          ('saman', True), ('tim', True)]]

rule2 = [[('duane', False), ('adam', False)],
         [('duane', False), ('jonathan', False)],
         [('duane', False), ('saman', False)],
         [('duane', False), ('tim', False)],
         [('adam', False), ('jonathan', False)],
         [('adam', False), ('saman', False)],
         [('adam', False), ('tim', False)],
         [('jonathan', False), ('saman', False)],
         [('jonathan', False), ('tim', False)],
         [('saman', False), ('tim', False)]]


rule3 = [[('chocolate', False), ('vanilla', False), ('pickles', False)],
         [('chocolate', True), ('vanilla', True)],
         [('chocolate', True), ('pickles', True)],
         [('vanilla', True), ('pickles', True)]]

rule4 = [[('duane', False), ('pickles', True)],
         [('duane', False), ('chocolate', False)],
         [('duane', False), ('vanilla', False)]]

rule5 = [[('jonathan', False), ('saman', True)],
         [('saman', False), ('jonathan', True)]]

rule6 = [[('adam', False), ('chocolate', True)],
         [('adam', False), ('vanilla', True)],
         [('adam', False), ('pickles', True)]]

rules = rule1 + rule2 + rule3 + rule4 + rule5 + rule6
</code></pre>
<p>When we have formulated things in this way, the list <code>rules</code> contains a formula
that encodes all of the constraints we need to satisfy.</p>
<p><a class="anchor" name="catsoop_section_2_2_2"></a><a class="anchor" name="_examples"></a><h4 class="cs_section_title">2.2.2) Examples<a class="cs_permalink" href="#_examples">§</a></h4></p>
<p>
<!--START question q000000 --><section aria-label="Question">
<div class="question question-pythonliteral" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;">Consider this Boolean formula.
<pre><code class="language-python">c and (a or d) and (not b or a) and (not a or e or not d)
</code></pre>
<p>Write an equivalent CNF formula (as a Python literal), in the format used in
the lab (e.g., <code>[[('a', True), ('b', False)], [('c', True)]]</code>).<br/></p></div><input aria-labelledby="catsoop_prompt_q000000" id="q000000" name="q000000" size="70" type="text" value="[[('c', True)], [('a', True), ('d', True)], [('b', False), ('a', True)], [('a', False), ('e', True ), ('d', False)]]"/>
</div><div>
<span id="q000000_buttons">
<button class="submit btn btn-catsoop" id="q000000_submit" onclick="catsoop.submit('q000000');" style="margin-top: 10px;">Submit</button></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br/>Your input was parsed as: 
<br/>c and (a or d) and (not b or a) and (not a or e or not d)</div>
</div>
</section>
<!--END question q000000 -->
</p>
<p>Now, consider this Boolean formula (which is <strong>not</strong> in CNF).</p>
<pre><code class="language-python">(a and b) or (c and not d)
</code></pre>
<p>This expression looks innocuous, but translating it into CNF is actually a
nontrivial exercise!  It turns out, though, that this expression does have a
representation in CNF as:</p>
<pre><code class="language-python">(a or c) and (a or not d) and (b or c) and (b or not d)
</code></pre>
<p>or, in our representation, as:</p>
<pre><code class="language-python">[[('a', True), ('c', True)], [('a', True), ('d', False)], [('b', True), ('c', True)], [('b', True), ('d', False)]]
</code></pre>
<p>Notice that the above expression will be true if <code>a</code> and <code>b</code> are both true, or
if <code>c</code> is true and <code>d</code> is false.</p>
<p>
<!--START question q000001 --><section aria-label="Question">
<div class="question question-pythonliteral" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
<div id="catsoop_preamble_q000001"></div>
<div id="catsoop_prompt_q000001" style="display: inline;">Now, try your hand at it.  Consider the following Boolean Formula (not in CNF):
<pre><code class="language-python">a and (not b or (c and d))
</code></pre>
<p>Write an equivalent CNF formula (as a Python literal), in the format used in the
lab (e.g., <code>[[('a', True), ('b', False)], [('c', True)]]</code>).<br/></p></div><input aria-labelledby="catsoop_prompt_q000001" id="q000001" name="q000001" size="70" type="text" value="[[('a', True)], [('b', False), ('c', True)] , [('b', False), ('d', True)] ]"/>
</div><div>
<span id="q000001_buttons">
<button class="submit btn btn-catsoop" id="q000001_submit" onclick="catsoop.submit('q000001');" style="margin-top: 10px;">Submit</button></span>
<span id="q000001_loading_wrapper" role="status">
<span id="q000001_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000001_score_display" role="status"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000001_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br/>Your input was parsed as: 
<br/>a and (not b or c) and (not b or d)</div>
</div>
</section>
<!--END question q000001 -->
</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_sat_solver"></a><h2 class="cs_section_title">3) SAT Solver<a class="cs_permalink" href="#_sat_solver">§</a></h2></p>
<p>A classic tool that works on Boolean formulas is a <b>satisfiability solver</b>
or SAT solver. Given a formula, either the solver finds Boolean variable values
that make the formula true, or the solver indicates that no solution exists.
In this lab, you will write a SAT solver that can solve puzzles like ours, as in:</p>
<pre><code class="language-python">&gt;&gt;&gt; print(satisfying_assignment(rules))
{'saman': False, 'jonathan': False, 'chocolate': False, 'adam': False,
 'duane': False, 'pickles': True, 'tim': True, 'vanilla': True}
</code></pre>
<p>The return value of <code>satisfying_assignment</code> is a dictionary mapping variables
to the Boolean values that have been inferred for them (or <code>None</code> if no valid
mapping exists).</p>
<p>So, we can see that, in our example above, Tim the Beaver is guilty and has a
taste for vanilla and pickles!</p>
<p>It turns out that there are other possible answers that have Tim enjoying other
flavors, but it also turns out that Tim is the uniquely determined culprit.
How do we know?  The SAT solver fails to find an assignment when we add an
additional rule proclaiming Tim's innocence.</p>
<pre><code class="language-python">&gt;&gt;&gt; print(satisfying_assignment(rules + [[('tim', False)]]))
None
</code></pre>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_the_naive_approach"></a><h3 class="cs_section_title">3.1) The Naive Approach<a class="cs_permalink" href="#_the_naive_approach">§</a></h3></p>
<p>There's one straightforward, brute-force way to solve Boolean puzzles: enumerate
all possible combination of Boolean assignments for the variables.  Evaluate
the rules on each assignment, returning the first assignment that works.
Unfortunately, this process can take prohibitively long to run!  For a concrete
illustration of why, consider this Python code that generates all sequences of
Booleans of a certain length.</p>
<p>When we have <span class="cs_math_to_render">N</span> Boolean variables in our puzzle, the possible assignments can
be represented as length-<span class="cs_math_to_render">N</span> sequences of Booleans.</p>
<pre><code class="language-python">def all_bools(length):
    if length == 0:
        return [[]]
    else:
        out = []
        for v in all_bools(length-1):
            out.append([True] + v)
            out.append([False] + v)
        return out
</code></pre>
<p>Here's an example output.</p>
<pre><code class="language-python">&gt;&gt;&gt; all_bools(3)
[[True, True, True], [False, True, True], [True, False, True],
 [False, False, True], [True, True, False], [False, True, False],
 [True, False, False], [False, False, False]]
</code></pre>
<p>We could get more ambitious and try to generate longer sequences.</p>
<pre><code class="language-python">&gt;&gt;&gt; len(all_bools(3))
8
&gt;&gt;&gt; len(all_bools(4))
16
&gt;&gt;&gt; len(all_bools(5))
32
&gt;&gt;&gt; len(all_bools(6))
64
&gt;&gt;&gt; len(all_bools(20))
1048576
&gt;&gt;&gt; len(all_bools(25))
# Python runs for long enough that we give up!
</code></pre>
<p>It's actually quite expensive even to run through all Boolean sequences of
nontrivial lengths, let alone to test each sequence against the rules. This is
because there are <span class="cs_math_to_render">2^N</span> length-<span class="cs_math_to_render">N</span> Boolean sequences, and that kind of
exponential function grows quite quickly as the length <span class="cs_math_to_render">N</span> of our mappings
grows.</p>
<p>Lots of logic puzzles can lead to hundreds of Boolean variables.  Are we out of
luck if we want Python to do all the work?  Worry not!  In this lab, you will
implement a SAT solver that uses a much smarter algorithm than this brute-force
enumeration of all assignments, thanks to the power of backtracking search.</p>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_a_nicer_approach"></a><h3 class="cs_section_title">3.2) A Nicer Approach<a class="cs_permalink" href="#_a_nicer_approach">§</a></h3></p>
<p>Instead of enumerating all assignments, we will ask you to implement a more
clever approach for Boolean satisfiability.  One such approach is outlined
below (with some of the details intentionally omitted):</p>
<p>We start by picking an arbitrary variable <span class="cs_math_to_render">x</span> from our formula <span class="cs_math_to_render">F</span>.  We then
construct a related formula <span class="cs_math_to_render">F_1</span>, which does not involve <span class="cs_math_to_render">x</span> but incorporates
all the consequences of setting <span class="cs_math_to_render">x</span> to be <code>True</code>.  We then try to solve <span class="cs_math_to_render">F_1</span>.
If it produces a successful result, we can combine that result with information
about <span class="cs_math_to_render">x</span> being <code>True</code> to produce our answer to the original problem.</p>
<p>If we could not solve <span class="cs_math_to_render">F_1</span>, we should try setting <span class="cs_math_to_render">x</span> to be <code>False</code> instead.
If no solution exists in either of the above cases, then the formula <span class="cs_math_to_render">F</span> cannot
be satisfied.</p>
<p><a class="anchor" name="catsoop_section_3_2_1"></a><a class="anchor" name="_updating_expressions"></a><h4 class="cs_section_title">3.2.1) Updating Expressions<a class="cs_permalink" href="#_updating_expressions">§</a></h4></p>
<p>A key operation here is updating a formula to model the effect of a variable
assignment.  As an example, consider this starting formula.</p>
<pre><code class="language-python">(a or b or not c) and (c or d)
</code></pre>
<p>In the context of the <code>satisfying_assignment</code> function in the lab,
this formula would be formatted as:</p>
<pre><code class="language-python">[[('a', True), ('b', True), ('c', False)], [('c', True), ('d', True)]]
</code></pre>
<p>If we set <code>c = True</code>, then the formula should be updated as follows.</p>
<p><code>(a or b)</code> or <code>[[('a', True), ('b', True)]]</code> in the lab context.</p>
<p>We removed <code>not c</code> from the first clause, because we now know conclusively that
that literal is <code>False</code>.  Conversely, we can remove the second clause, because
when <code>c</code> is <code>True</code>, it is assured that the clause will be satisfied.</p>
<p>Note a key effect of this operation: <em>variable <code>d</code> has disappeared from the
formula, so we no longer need to consider values for <code>d</code></em>.</p>
<p>In general, this approach often saves us from an exponential enumeration of
variable values, because we learn that, in some branches of the search space,
some variables are actually irrelevant to the problem.</p>
<p>This pruning will show up in the assignments that your SAT solver returns: your
<code>satisfying_assignment</code> function does not need to return assignments for these
nonessential variables.</p>
<p>If we had instead tried setting <code>c</code> to <code>False</code>, we would update the formula
instead as follows:</p>
<p><code>d</code>  or <code>[[('d', True)]]</code> in the lab context.</p>
<p>How did we get there?  Note that, with <code>c</code> being <code>False</code>, the first clause is
already satisfied.  The second clause, though, will only be <code>True</code> if <code>d</code> is
<code>True</code>.</p>
<p>
<!--START question d_True --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_d_True" style="position: static">
<div id="d_True_rendered_question">
<div id="catsoop_preamble_d_True"></div>
<div id="catsoop_prompt_d_True" style="display: inline;">If we then took the formula containing only <code>[[('d', True)]]</code> and set <code>d</code> to be <code>True</code>,
we could update the formula to be a list of how many clauses? <br/></div><input aria-labelledby="catsoop_prompt_d_True" id="d_True" name="d_True" size="50" type="text" value="0"/>
</div><div>
<span id="d_True_buttons">
<button class="submit btn btn-catsoop" id="d_True_submit" onclick="catsoop.submit('d_True');" style="margin-top: 10px;">Submit</button></span>
<span id="d_True_loading_wrapper" role="status">
<span id="d_True_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="d_True_score_display" role="status"></span>
<div class="nsubmits_left" id="d_True_nsubmits_left" role="status">You have submitted this assignment 8 times.</div></div>
<div id="d_True_solution_container">
<div id="d_True_solution">
</div>
<div id="d_True_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="d_True_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br/></div>
</div>
</section>
<!--END question d_True -->
</p>
<p>
<!--START question d_True_imply --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_d_True_imply" style="position: static">
<div id="d_True_imply_rendered_question">
<div id="catsoop_preamble_d_True_imply"></div>
<div id="catsoop_prompt_d_True_imply" style="display: inline;">What does the formula that results from setting <code>c</code> to <code>False</code> and
<code>d</code> to <code>True</code> imply?</div><div aria-labelledby="catsoop_prompt_d_True_imply" role="radiogroup">
<div style="margin-bottom: 10px;"><input checked="" id="d_True_imply_opts_0" name="d_True_imply_opts" type="radio" value="0"/><label for="d_True_imply_opts_0">This formula is satisfied regardless of how the other variables are set.</label></div>
<div style="margin-bottom: 10px;"><input id="d_True_imply_opts_1" name="d_True_imply_opts" type="radio" value="1"/><label for="d_True_imply_opts_1">This formula cannot be satisfied regardless of how the other variables are set.</label></div>
<div style="margin-bottom: 10px;"><input id="d_True_imply_opts_2" name="d_True_imply_opts" type="radio" value="2"/><label for="d_True_imply_opts_2">Neither of the above.</label></div>
</div><input id="d_True_imply" name="d_True_imply" type="hidden" value="0"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=d_True_imply_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("d_True_imply").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="d_True_imply_buttons">
<button class="submit btn btn-catsoop" id="d_True_imply_submit" onclick="catsoop.submit('d_True_imply');" style="margin-top: 10px;">Submit</button></span>
<span id="d_True_imply_loading_wrapper" role="status">
<span id="d_True_imply_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="d_True_imply_score_display" role="status"></span>
<div class="nsubmits_left" id="d_True_imply_nsubmits_left" role="status">You have submitted this assignment 3 times.</div></div>
<div id="d_True_imply_solution_container">
<div id="d_True_imply_solution">
</div>
<div id="d_True_imply_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="d_True_imply_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question d_True_imply -->
</p>
<p>
<!--START question d_False_imply --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_d_False_imply" style="position: static">
<div id="d_False_imply_rendered_question">
<div id="catsoop_preamble_d_False_imply"></div>
<div id="catsoop_prompt_d_False_imply" style="display: inline;">If we instead took the original formula and set both <code>c</code> and <code>d</code> to be <code>False</code>,
the formula could be updated to a new formula containing only <code>[[]]</code>. What does this
imply?</div><div aria-labelledby="catsoop_prompt_d_False_imply" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="d_False_imply_opts_0" name="d_False_imply_opts" type="radio" value="0"><label for="d_False_imply_opts_0">This formula is satisfied regardless of how the other variables are set.</label></input></div>
<div style="margin-bottom: 10px;"><input checked="" id="d_False_imply_opts_1" name="d_False_imply_opts" type="radio" value="1"/><label for="d_False_imply_opts_1">This formula cannot be satisfied regardless of how the other variables are set.</label></div>
<div style="margin-bottom: 10px;"><input id="d_False_imply_opts_2" name="d_False_imply_opts" type="radio" value="2"/><label for="d_False_imply_opts_2">Neither of the above.</label></div>
</div><input id="d_False_imply" name="d_False_imply" type="hidden" value="1"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=d_False_imply_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("d_False_imply").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="d_False_imply_buttons">
<button class="submit btn btn-catsoop" id="d_False_imply_submit" onclick="catsoop.submit('d_False_imply');" style="margin-top: 10px;">Submit</button></span>
<span id="d_False_imply_loading_wrapper" role="status">
<span id="d_False_imply_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="d_False_imply_score_display" role="status"></span>
<div class="nsubmits_left" id="d_False_imply_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div id="d_False_imply_solution_container">
<div id="d_False_imply_solution">
</div>
<div id="d_False_imply_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="d_False_imply_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question d_False_imply -->
</p>
<p><strong>It might be a good idea to implement this process (updating a formula based
on a new assignment) as a helper function (which you can test independently),
as we will need to perform this operation repeatedly.</strong></p>
<p><a class="anchor" name="catsoop_section_3_2_2"></a><a class="anchor" name="_examples_2"></a><h4 class="cs_section_title">3.2.2) Examples<a class="cs_permalink" href="#_examples_2">§</a></h4></p>
<p>Consider this CNF formula, in the form we use in this lab:</p>
<pre><code class="language-python">[
    [('a', True), ('b', True), ('c', True)],
    [('a', False), ('f', True)],
    [('d', False), ('e', True), ('a', True), ('g', True)],
    [('h', False), ('c', True), ('a', False), ('f', True)],
]
</code></pre>
<p>
<!--START question q000002 --><section aria-label="Question">
<div class="question question-multiplechoicewithtext" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
<div id="catsoop_preamble_q000002"></div>
<div id="catsoop_prompt_q000002" style="display: inline;">Starting from the formula above, what formula results when we set <code>a</code> to be <code>True</code>?<br/> <br/></div><textarea id="_q000002_extra" name="_q000002_extra" rows="7" style="width: 100%;">[[('f', True)],  [('h', False), ('c', True),('f', True)]]</textarea>
<br/> <br/>Which of the following is true for this formula?<br/><select id="_q000002_opt" name="_q000002_opt">
<option name="_q000002_option_default" value="-1">--</option>
<option name="_q000002_option_0" value="0">This formula is satisfied regardless of how the other variables are set.</option>
<option name="_q000002_option_1" value="1">This formula cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000002_option_2" selected="" value="2">Neither of the above.</option></select><input id="q000002" name="q000002" type="hidden" value="[&quot;2&quot;, &quot;[[('f', True)],  [('h', False), ('c', True),('f', True)]]&quot;]">
<script type="text/javascript">
function update_q000002_values() {
    var outelt = document.getElementById('q000002');
    var textelt = document.getElementById('_q000002_extra');
    document.querySelectorAll("option[name^=_q000002_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], ''];
            theval[1] = textelt.value;
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000002_opt').addEventListener('change', update_q000002_values);
document.getElementById('_q000002_extra').addEventListener('keyup', update_q000002_values);
document.getElementById('_q000002_extra').addEventListener('change', update_q000002_values);
update_q000002_values();</script>
</input></div><div>
<span id="q000002_buttons">
<button class="submit btn btn-catsoop" id="q000002_submit" onclick="catsoop.submit('q000002');" style="margin-top: 10px;">Submit</button></span>
<span id="q000002_loading_wrapper" role="status">
<span id="q000002_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000002_score_display" role="status"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000002_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question q000002 -->
</p>
<p>
<!--START question q000003 --><section aria-label="Question">
<div class="question question-multiplechoicewithtext" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
<div id="catsoop_preamble_q000003"></div>
<div id="catsoop_prompt_q000003" style="display: inline;">What formula results if we instead set <code>a</code> to be <code>False</code>?<br/> <br/></div><textarea id="_q000003_extra" name="_q000003_extra" rows="7" style="width: 100%;">[[('b', True), ('c', True)], [('d', False), ('e', True), ('g', True)]]</textarea>
<br/> <br/>Which of the following is true for this formula?<br/><select id="_q000003_opt" name="_q000003_opt">
<option name="_q000003_option_default" value="-1">--</option>
<option name="_q000003_option_0" value="0">This formula is satisfied regardless of how the other variables are set.</option>
<option name="_q000003_option_1" value="1">This formula cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000003_option_2" selected="" value="2">Neither of the above.</option></select><input id="q000003" name="q000003" type="hidden" value="[&quot;2&quot;, &quot;[[('b', True), ('c', True)], [('d', False), ('e', True), ('g', True)]]&quot;]"/>
<script type="text/javascript">
function update_q000003_values() {
    var outelt = document.getElementById('q000003');
    var textelt = document.getElementById('_q000003_extra');
    document.querySelectorAll("option[name^=_q000003_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], ''];
            theval[1] = textelt.value;
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000003_opt').addEventListener('change', update_q000003_values);
document.getElementById('_q000003_extra').addEventListener('keyup', update_q000003_values);
document.getElementById('_q000003_extra').addEventListener('change', update_q000003_values);
update_q000003_values();</script>
</div><div>
<span id="q000003_buttons">
<button class="submit btn btn-catsoop" id="q000003_submit" onclick="catsoop.submit('q000003');" style="margin-top: 10px;">Submit</button></span>
<span id="q000003_loading_wrapper" role="status">
<span id="q000003_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000003_score_display" role="status"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000003_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question q000003 -->
</p>
<p>
<!--START question q000004 --><section aria-label="Question">
<div class="question question-multiplechoicewithtext" id="cs_qdiv_q000004" style="position: static">
<div id="q000004_rendered_question">
<div id="catsoop_preamble_q000004"></div>
<div id="catsoop_prompt_q000004" style="display: inline;">What formula results if we instead set <code>a</code> to <code>True</code> <em>and</em> <code>f</code> to <code>True</code>?<br/> <br/></div><textarea id="_q000004_extra" name="_q000004_extra" rows="7" style="width: 100%;">[]</textarea>
<br/> <br/>Which of the following is true for this formula?<br/><select id="_q000004_opt" name="_q000004_opt">
<option name="_q000004_option_default" value="-1">--</option>
<option name="_q000004_option_0" selected="" value="0">This formula is satisfied regardless of how the other variables are set.</option>
<option name="_q000004_option_1" value="1">This formula cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000004_option_2" value="2">Neither of the above.</option></select><input id="q000004" name="q000004" type="hidden" value='["0", "[]"]'/>
<script type="text/javascript">
function update_q000004_values() {
    var outelt = document.getElementById('q000004');
    var textelt = document.getElementById('_q000004_extra');
    document.querySelectorAll("option[name^=_q000004_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], ''];
            theval[1] = textelt.value;
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000004_opt').addEventListener('change', update_q000004_values);
document.getElementById('_q000004_extra').addEventListener('keyup', update_q000004_values);
document.getElementById('_q000004_extra').addEventListener('change', update_q000004_values);
update_q000004_values();</script>
</div><div>
<span id="q000004_buttons">
<button class="submit btn btn-catsoop" id="q000004_submit" onclick="catsoop.submit('q000004');" style="margin-top: 10px;">Submit</button></span>
<span id="q000004_loading_wrapper" role="status">
<span id="q000004_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000004_score_display" role="status"></span>
<div class="nsubmits_left" id="q000004_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000004_solution_container">
<div id="q000004_solution">
</div>
<div id="q000004_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000004_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question q000004 -->
</p>
<p>
<!--START question q000005 --><section aria-label="Question">
<div class="question question-multiplechoicewithtext" id="cs_qdiv_q000005" style="position: static">
<div id="q000005_rendered_question">
<div id="catsoop_preamble_q000005"></div>
<div id="catsoop_prompt_q000005" style="display: inline;">What formula results if we instead set <code>a</code> to <code>True</code> <em>and</em> <code>f</code> to <code>False</code>?<br/> <br/></div><textarea id="_q000005_extra" name="_q000005_extra" rows="7" style="width: 100%;">[[],  [('h', False), ('c', True),]]</textarea>
<br/> <br/>Which of the following is true for this formula?<br/><select id="_q000005_opt" name="_q000005_opt">
<option name="_q000005_option_default" value="-1">--</option>
<option name="_q000005_option_0" value="0">This formula is satisfied regardless of how the other variables are set.</option>
<option name="_q000005_option_1" selected="" value="1">This formula cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000005_option_2" value="2">Neither of the above.</option></select><input id="q000005" name="q000005" type="hidden" value="[&quot;1&quot;, &quot;[[],  [('h', False), ('c', True),]]&quot;]"/>
<script type="text/javascript">
function update_q000005_values() {
    var outelt = document.getElementById('q000005');
    var textelt = document.getElementById('_q000005_extra');
    document.querySelectorAll("option[name^=_q000005_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], ''];
            theval[1] = textelt.value;
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000005_opt').addEventListener('change', update_q000005_values);
document.getElementById('_q000005_extra').addEventListener('keyup', update_q000005_values);
document.getElementById('_q000005_extra').addEventListener('change', update_q000005_values);
update_q000005_values();</script>
</div><div>
<span id="q000005_buttons">
<button class="submit btn btn-catsoop" id="q000005_submit" onclick="catsoop.submit('q000005');" style="margin-top: 10px;">Submit</button></span>
<span id="q000005_loading_wrapper" role="status">
<span id="q000005_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000005_score_display" role="status"></span>
<div class="nsubmits_left" id="q000005_nsubmits_left" role="status">You have submitted this assignment 24 times.</div></div>
<div id="q000005_solution_container">
<div id="q000005_solution">
</div>
<div id="q000005_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000005_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question q000005 -->
</p>
<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_implementation"></a><h2 class="cs_section_title">4) Implementation<a class="cs_permalink" href="#_implementation">§</a></h2></p>
<p>Implement the function <code>satisfying_assignment</code> as described in <code>lab.py</code>.  Your
function should take as input a CNF formula (in the form described throughout
this writeup).  It should return a dictionary mapping variable names to Boolean
values if there exists such an assignment that satisfies the given formula.  If
no such assignment exists, it should return <code>None</code>.</p>
<p><a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_optimizations"></a><h2 class="cs_section_title">5) Optimizations<a class="cs_permalink" href="#_optimizations">§</a></h2></p>
<div class="callout callout-error"><div class="callout-title">Suggested Approach</div>
<p>While the details below can make a big difference in terms of efficiency
for some of the test cases, each new change below adds complexity to your code.
We <strong>strongly</strong> encourage you to write and debug the approach described above
first, and only to add the features below once you have something that works.</p>
</div>
<p>A couple of further optimizations are likely to be necessary in order to pass
all of the test cases quickly enough on the server:</p>
<ul>
<li>
<p>In the procedure described above, if setting the value of <span class="cs_math_to_render">x</span> immediately leads
to a contradiction, we can immediately discard that possibility (rather than
waiting for a later step in the recursive process to notice the contradiction).</p>
</li>
<li>
<p>At the start of any call to your procedure, check if the formula contains any
length-one clauses ("unit" clauses).
If such a clause <code>[(x, b)]</code> exists, then we may set <code>x</code> to Boolean value <code>b</code>,
just as we do in the <code>True</code> and <code>False</code> cases of the outline above.
However, we know that, if this setting leads to failure, there is no need
to backtrack and also try <code>x = not b</code> (because the unit clause alone tells
us exactly what the value of <code>x</code> must be)!</p>
<p>Thus, you can begin every call to your function with a loop that
<strong>repeatedly</strong> finds unit clauses, if any, and propagates their consequences
through the formula until no more unit clauses remain.</p>
<p>Propagating the effects of one unit clause may reveal further unit clauses,
whose later propagations may themselves reveal more unit clauses, and so on.
Later assignments may also create unit clauses. For example, setting <code>x</code> to
<code>True</code> would simplify a clause like <code>[('x', False), ('y', True)]</code> to <code>[('y', True)]</code>,
which should force <code>y</code> to be <code>True</code>.</p>
<p>This whole process should be completed before chooseing a variable to set to
True or False.</p>
</li>
</ul>
<p>You are free to add additional optimizations beyond what we laid out above or
even make broader changes to the algorithm, so long as you avoid "hard-coding"
for rather specific SAT problems (except for base cases like empty formulas).</p>
<p><a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_scheduling_by_reduction"></a><h2 class="cs_section_title">6) Scheduling by Reduction<a class="cs_permalink" href="#_scheduling_by_reduction">§</a></h2></p>
<p>Now that we have a fancy new SAT solver, let's look at applying it to a new
problem!</p>
<p>In general, it's possible to write a new implementation of backtracking search
for each new problem we encounter, but another strategy is to <em>reduce</em> a new
problem to one that we already know how to solve well.  Boolean satisfiability
is a popular target for reductions, because a lot of effort has gone into
building fast SAT solvers.  In this last part of the lab, you will implement a
reduction to SAT from a scheduling problem.</p>
<p>In particular, we are interested in the real-life problem of assigning students
in a class to different rooms for taking a quiz.  For 6.101's quiz, we assigned
rooms based on last names; but we could have tried a different streategy
instead, asking for room preferences.</p>
<p>In this scenario, each student prefers only some of the rooms, but each room
has limited capacity.  We want to find a schedule (assignment of students to
rooms) that respects all the constraints.</p>
<p>Please implement the function
<code>boolify_scheduling_problem(student_preferences, room_capacities)</code>
as described both below and in <code>lab.py</code>:</p>
<ul>
<li>
<p>The argument <code>student_preferences</code> is a dictionary mapping a student name
(string) to a set of room names (strings) for which that student is available.</p>
</li>
<li>
<p>Argument <code>room_capacities</code> is a dictionary mapping each room name to a
positive integer for how many students can fit in that room.</p>
</li>
<li>
<p>The function returns a CNF formula encoding the schedule problem, as we
explain next.</p>
</li>
</ul>
<p>Here's an example call:</p>
<pre><code class="language-python">boolify_scheduling_problem({'Alex': {'basement', 'penthouse'},
                            'Blake': {'kitchen'},
                            'Chris': {'basement', 'kitchen'},
                            'Dana': {'kitchen', 'penthouse', 'basement'}},
                           {'basement': 1,
                            'kitchen': 2,
                            'penthouse': 4})
</code></pre>
<p>In English, Alex is available for the sessions in the basement and penthouse,
Blake is available only for the session in the kitchen, etc.
The basement can fit 1 student, the kitchen 2 students, and the penthouse 4
students.
In this case, one legal schedule would be Alex in the basement, Blake in the
kitchen, Chris in the kitchen, and Dana in the penthouse.</p>
<p>Your job is to translate such inputs into CNF formulas, such that your SAT
solver can then find a legal schedule (or confirm that none exists).</p>
<p>The CNF formula you output should mention only Boolean variables named like
<code>student_room</code>, where <code>student</code> is the name of a student, and where
<code>room</code> is the name of a room.
The variable <code>student_room</code> should be <code>True</code> if and only if that student is
assigned to that room (for example, the variable <code>Blake_kitchen</code> should be
<code>True</code> if Blake is in the kitchen and <code>False</code> otherwise).</p>
<p>The CNF clauses you include should enforce exactly the following rules (which
are discussed in more detail below):</p>
<ol>
<li>Students are only assigned to rooms included in their preferences.</li>
<li>Each student is assigned to exactly one room.</li>
<li>No room has more assigned students than it can fit.</li>
</ol>
<p>Our requirement for this part of the lab is that your code <em>should not</em> solve
the optimization problem.  Rather, you should implement a translation to CNF
formulas (which <code>satisfying_assignment</code> can then solve).</p>
<p><a class="anchor" name="catsoop_section_6_1"></a><a class="anchor" name="_encoding_the_rules"></a><h3 class="cs_section_title">6.1) Encoding the Rules<a class="cs_permalink" href="#_encoding_the_rules">§</a></h3></p>
<p>Turning these rules into CNF formulas is a tricky task.  We'll try to provide
some guidance for thinking about each of these rules in the following sections
(though if you get stuck, please don't hesitate to ask on <code>6.101-help</code>).</p>
<p>Note that each of these rules can be expressed as its own CNF formula, and the
AND of these three rules represents the overall formula we need to solve.  As
such, you may wish to write a helper function to generate the formula for each
of these rules and to use those helper functions in <code>boolify_scheduling_problem</code>.</p>
<p><strong>The examples below also make nice test cases to add to your lab.py or test.py
(simpler than many we will test your code on)!</strong>  Note also that computing the
results for the examples below may also be difficult to do without some
additional scratch paper (or at least a bigger text editing area than the
little boxes below).</p>
<p><a class="anchor" name="catsoop_section_6_1_1"></a><a class="anchor" name="_students_only_in_desired_sessions"></a><h4 class="cs_section_title">6.1.1) Students Only In Desired Sessions<a class="cs_permalink" href="#_students_only_in_desired_sessions">§</a></h4></p>
<p>For each student, we need to guarantee that they are given a room that they
selected as one of their preferences.  In the example above, for example, we
know that Chris must be in the basement or the kitchen, and that Alex must
be in the basement or in the penthouse.</p>
<p>
<!--START question q000006 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000006" style="position: static">
<div id="q000006_rendered_question">
<div id="catsoop_preamble_q000006"></div>
<div id="catsoop_prompt_q000006" style="display: inline;">In the box below, enter a CNF formula expressing this constraint
(students are only assigned to rooms in their preferences) for the example data
above (with Alex, Blake, Chris, and Dana).  Use variable names of the form
described above (e.g., <code>'Blake_kitchen'</code> represents Blake being in the
kitchen).<br/></div><textarea aria-labelledby="catsoop_prompt_q000006" cols="70" id="q000006" name="q000006" rows="10">[[('Alex_basement', True), ('Alex_penthouse', True)], [('Blake_kitchen', True)], [('Chris_kitchen', True), ('Chris_basement', True)], [('Dana_kitchen', True), ('Dana_basement', True), ('Dana_penthouse', True)]]</textarea><br/>
</div><div>
<span id="q000006_buttons">
<button class="submit btn btn-catsoop" id="q000006_submit" onclick="catsoop.submit('q000006');" style="margin-top: 10px;">Submit</button></span>
<span id="q000006_loading_wrapper" role="status">
<span id="q000006_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000006_score_display" role="status"></span>
<div class="nsubmits_left" id="q000006_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000006_solution_container">
<div id="q000006_solution">
</div>
<div id="q000006_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000006_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br>Your input was parsed as: 
<br/>(Alex_basement or Alex_penthouse) and Blake_kitchen and (Chris_kitchen or Chris_basement) and (Dana_kitchen or Dana_basement or Dana_penthouse)</div>
</div>
</section>
<!--END question q000006 -->
</p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_1"></span></p></div>
<p><a class="anchor" name="catsoop_section_6_1_2"></a><a class="anchor" name="_each_student_in_exactly_one_session"></a><h4 class="cs_section_title">6.1.2) Each Student In Exactly One Session<a class="cs_permalink" href="#_each_student_in_exactly_one_session">§</a></h4></p>
<p>This rule is a little bit trickier, but it may help to separate it into two pieces:</p>
<ul>
<li>each student must be in at least one room, <strong>and</strong></li>
<li>each student must be in at most one room.</li>
</ul>
<p>We can generate formulae for each of these conditions and combine them to
construct the overall formula corresponding to this rule.</p>
<p>In fact, the first bullet (that each student be assigned to at least one
room) is redundant with our first condition (that each student be assigned
to a room in their preferences).</p>
<p>So let's turn our attention to making sure that each student is assigned to <em>at
most one room</em>.  This one is a bit trickier, particularly since we need to
put things in CNF.  One flip of perspective that can be helpful is that, if we
need each student to be in at most one room, that means that for any pair of
rooms, any given student can be in only <em>one</em> of them.</p>
<p>For example, one clause in this expression will say that Blake cannot be in both
the kitchen and the basement.  That is, we cannot have both <code>Blake_kitchen</code> and
<code>Blake_basement</code> be <code>True</code> (or, to phrase it a different way, at least one of
them must be <code>False</code>).</p>
<p>Note that there is a corresponding clause for every other pair of rooms; and
each of these clauses has a corresponding clause for Alex (and the other
students).  <strong>For purposes of this question, include <em>all</em> rooms for each
student, regardless of their preferences.</strong></p>
<p>
<!--START question q000007 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000007" style="position: static">
<div id="q000007_rendered_question">
<div id="catsoop_preamble_q000007"></div>
<div id="catsoop_prompt_q000007" style="display: inline;">In the box below, enter a CNF formula expressing this
constraint (students are in at most one room) for the example data above
(with Alex, Blake, Chris, and Dana).  Use variable names of the form described
above (e.g., <code>'Blake_kitchen'</code> represents Blake being in the kitchen).<br/></div><textarea aria-labelledby="catsoop_prompt_q000007" cols="70" id="q000007" name="q000007" rows="10">[[('Alex_kitchen', False), ('Alex_penthouse', False)], [('Alex_basement', False), ('Alex_penthouse', False)], [('Alex_basement', False), ('Alex_kitchen', False)], [('Blake_kitchen', False), ('Blake_penthouse', False)], [('Blake_basement', False), ('Blake_penthouse', False)], [('Blake_basement', False), ('Blake_kitchen', False)], [('Chris_kitchen', False), ('Chris_penthouse', False)], [('Chris_basement', False), ('Chris_penthouse', False)], [('Chris_basement', False), ('Chris_kitchen', False)], [('Dana_kitchen', False), ('Dana_penthouse', False)], [('Dana_basement', False), ('Dana_penthouse', False)], [('Dana_basement', False), ('Dana_kitchen', False)]]</textarea><br/>
</div><div>
<span id="q000007_buttons">
<button class="submit btn btn-catsoop" id="q000007_submit" onclick="catsoop.submit('q000007');" style="margin-top: 10px;">Submit</button></span>
<span id="q000007_loading_wrapper" role="status">
<span id="q000007_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000007_score_display" role="status"></span>
<div class="nsubmits_left" id="q000007_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000007_solution_container">
<div id="q000007_solution">
</div>
<div id="q000007_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000007_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br>Your input was parsed as: 
<br/>(not Alex_kitchen or not Alex_penthouse) and (not Alex_basement or not Alex_penthouse) and (not Alex_basement or not Alex_kitchen) and (not Blake_kitchen or not Blake_penthouse) and (not Blake_basement or not Blake_penthouse) and (not Blake_basement or not Blake_kitchen) and (not Chris_kitchen or not Chris_penthouse) and (not Chris_basement or not Chris_penthouse) and (not Chris_basement or not Chris_kitchen) and (not Dana_kitchen or not Dana_penthouse) and (not Dana_basement or not Dana_penthouse) and (not Dana_basement or not Dana_kitchen)</div>
</div>
</section>
<!--END question q000007 -->
</p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_2"></span></p></div>
<p><a class="anchor" name="catsoop_section_6_1_3"></a><a class="anchor" name="_no_oversubscribed_sessions"></a><h4 class="cs_section_title">6.1.3) No Oversubscribed Sessions<a class="cs_permalink" href="#_no_oversubscribed_sessions">§</a></h4></p>
<p>This last rule is also fairly tricky, and it maybe requires a bit of a shift of
perspective to express this constraint in CNF.  However, it is similar to the
previous rule in some ways.</p>
<p>We can think about this as: if a given room can contain <span class="cs_math_to_render">N</span> students, then in
every possible group of <span class="cs_math_to_render">N+1</span> students, there must be at least one student who
is <em>not</em> in the given room.  For example, since the kitchen holds 2 people, we
would need to consider all possible groups of 3 students and make sure that at
least one of the students in each group is <em>not</em> in that room.</p>
<p>What about the penthouse?  It has enough room for everyone, so there is no need
even to include it in the constraints (it doesn't constrain our decision in any
way)!</p>
<p><strong>For purposes of this question, include <em>all</em> groups of students, regardless
of their preferences.</strong></p>
<p>
<!--START question q000008 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000008" style="position: static">
<div id="q000008_rendered_question">
<div id="catsoop_preamble_q000008"></div>
<div id="catsoop_prompt_q000008" style="display: inline;">In the box below, enter a CNF formula expressing this constraint
(no oversubscribed rooms) for the example data above (with Alex, Blake,
Chris, and Dana).  Use variable names of the form described above (e.g.,
<code>'Blake_kitchen'</code> represents Blake being in the kitchen).<br/></div><textarea aria-labelledby="catsoop_prompt_q000008" cols="70" id="q000008" name="q000008" rows="10">[[('Chris_basement', False), ('Dana_basement', False)], [('Blake_basement', False), ('Dana_basement', False)], [('Blake_basement', False), ('Chris_basement', False)], [('Alex_basement', False), ('Dana_basement', False)], [('Alex_basement', False), ('Chris_basement', False)], [('Alex_basement', False), ('Blake_basement', False)], [('Blake_kitchen', False), ('Chris_kitchen', False), ('Dana_kitchen', False)], [('Alex_kitchen', False), ('Chris_kitchen', False), ('Dana_kitchen', False)], [('Alex_kitchen', False), ('Blake_kitchen', False), ('Dana_kitchen', False)], [('Alex_kitchen', False), ('Blake_kitchen', False), ('Chris_kitchen', False)]]</textarea><br/>
</div><div>
<span id="q000008_buttons">
<button class="submit btn btn-catsoop" id="q000008_submit" onclick="catsoop.submit('q000008');" style="margin-top: 10px;">Submit</button></span>
<span id="q000008_loading_wrapper" role="status">
<span id="q000008_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000008_score_display" role="status"></span>
<div class="nsubmits_left" id="q000008_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div id="q000008_solution_container">
<div id="q000008_solution">
</div>
<div id="q000008_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000008_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br>Your input was parsed as: 
<br/>(not Chris_basement or not Dana_basement) and (not Blake_basement or not Dana_basement) and (not Blake_basement or not Chris_basement) and (not Alex_basement or not Dana_basement) and (not Alex_basement or not Chris_basement) and (not Alex_basement or not Blake_basement) and (not Blake_kitchen or not Chris_kitchen or not Dana_kitchen) and (not Alex_kitchen or not Chris_kitchen or not Dana_kitchen) and (not Alex_kitchen or not Blake_kitchen or not Dana_kitchen) and (not Alex_kitchen or not Blake_kitchen or not Chris_kitchen)</div>
</div>
</section>
<!--END question q000008 -->
</p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_3"></span></p></div>
<p><a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_ui"></a><h2 class="cs_section_title">7) UI<a class="cs_permalink" href="#_ui">§</a></h2></p>
<p>We have provided a browser UI for this lab, so you can see your code solving
scheduling problems in action! When you have implemented both main functions
of the lab, you may run <code>python3 server.py</code> and then use your web browser to go
to <a href="http://localhost:6101/"><code>http://localhost:6101/</code></a>. Running a test case on
the UI involves generating a CNF formula and searching for a satisfying
assignment for it, done by calling your functions. Enjoy!</p>
<p><a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_code_submission"></a><h2 class="cs_section_title">8) Code Submission<a class="cs_permalink" href="#_code_submission">§</a></h2></p>
<p>When you have tested your code sufficiently on your own machine, submit your
modified <code>lab.py</code> using the <code>6.101-submit</code> script.</p>
<p>The following command should submit the lab, assuming that the last argument
<code>/path/to/lab.py</code> is replaced by the location of your <code>lab.py</code> file:</p>
<pre><code class="language-nohighlight">$ 6.101-submit -a sat /path/to/lab.py
</code></pre>
<p>Running that script should submit your file to be checked.  After
submitting your file, information about the checking process can be
found below:</p>
<p>
<!--START question code_submit --><section aria-label="Question">
<div class="question question-lab101" id="cs_qdiv_code_submit" style="position: static">
<div id="code_submit_rendered_question">
<div id="catsoop_preamble_code_submit"></div>
<div id="catsoop_prompt_code_submit" style="display: inline;"></div>Results below are from a submission made at 12:44pm on 12 Apr 2024.<br/>Making additional submissions should cause this display to update automatically; or you can click <a href="javascript:reload_code_submit();">here</a> or reload the page to see updated results.<br/> <br/><a download="sat_gvargas1.py" href="https://py.mit.edu/spring24/submission_viewer?lab=labs/sat&amp;name=code_submit&amp;as=gvargas1&amp;sub=-1&amp;download=1"> Download Most Recent Submission</a><br/><a href="https://py.mit.edu/spring24/submission_viewer?lab=labs/sat&amp;name=code_submit&amp;as=gvargas1&amp;sub=-1" target="_blank"> View Most Recent Submission</a><br/><a href="https://py.mit.edu/spring24/submission_viewer?lab=labs/sat&amp;name=code_submit&amp;as=gvargas1" target="_blank"> View Submission History</a><br/><br/>
</div><div>
<span id="code_submit_buttons">
<button class="submit btn btn-catsoop" id="code_submit_submit" onclick="catsoop.submit('code_submit');" style="margin-top: 10px;">Submit</button></span>
<span id="code_submit_loading_wrapper" role="status">
<span id="code_submit_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="code_submit_score_display" role="status"></span>
<div class="nsubmits_left" id="code_submit_nsubmits_left" role="status">You have submitted this assignment 6 times.</div></div>
<div id="code_submit_solution_container">
<div id="code_submit_solution">
</div>
<div id="code_submit_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="code_submit_message" role="status">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById("code_submit_score_display").innerHTML = '';
// @license-end
</script>
<div class="callout callout-tip"><b>Style Grade</b><br/> <br/><b>This submission passed our style checks.</b></div><h3>Test Results:</h3><p>Your code passed 31 of 31 tests.</p><div class="callout callout-tip"><p><b>Testing:</b> <code>python3 test.py sat_small_</code> with a timeout of 5.0 seconds</p><b class="text-success">Your code passed all 4 test cases.</b><p>Your code ran for 0.247002 seconds.</p><button onclick="if(this.nextElementSibling.style.display === 'none'){this.nextElementSibling.style.display = 'block';}else{this.nextElementSibling.style.display = 'none';}">Show/Hide Output</button><div style="display:none"><p>This test produced the following output:</p><p><div style="font-family: monospace;white-space: pre-wrap; word-wrap: break-word; font-size:75%"><span style="font-weight: bold">============================= test session starts ==============================</span>
platform linux -- Python 3.12.1, pytest-8.0.0, pluggy-1.4.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /run
<span style="font-weight: bold">collecting ... </span>collected 31 items / 27 deselected / 4 selected

test.py::test_sat_small_nested_backtrack <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                          [ 25%]</span>
test.py::test_sat_small_double_backtrack <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                          [ 50%]</span>
test.py::test_sat_small_deep_double_backtrack <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                     [ 75%]</span>
test.py::test_sat_small_deep_double_backtrack2 <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                    [100%]</span>
<span style="color: #00aa00">======================= </span><span style="color: #00aa00"></span><span style="font-weight: bold; color: #00aa00">4 passed</span>, <span style="color: #aa5500">27 deselected</span><span style="color: #00aa00"> in 0.03s</span><span style="color: #00aa00"> =======================</span>
</div></p></div></div><div class="callout callout-tip"><p><b>Testing:</b> <code>python3 test.py sat_big</code> with a timeout of 90.0 seconds</p><b class="text-success">Your code passed all 17 test cases.</b><p>Your code ran for 12.245659 seconds.</p><button onclick="if(this.nextElementSibling.style.display === 'none'){this.nextElementSibling.style.display = 'block';}else{this.nextElementSibling.style.display = 'none';}">Show/Hide Output</button><div style="display:none"><p>This test produced the following output:</p><p><div style="font-family: monospace;white-space: pre-wrap; word-wrap: break-word; font-size:75%"><span style="font-weight: bold">============================= test session starts ==============================</span>
platform linux -- Python 3.12.1, pytest-8.0.0, pluggy-1.4.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /run
<span style="font-weight: bold">collecting ... </span>collected 31 items / 14 deselected / 17 selected

test.py::test_sat_big_A <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [  5%]</span>
test.py::test_sat_big_B <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 11%]</span>
test.py::test_sat_big_C <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 17%]</span>
test.py::test_sat_big_D <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 23%]</span>
test.py::test_sat_big_E <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 29%]</span>
test.py::test_sat_big_F <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 35%]</span>
test.py::test_sat_big_G <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 41%]</span>
test.py::test_sat_big_H <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 47%]</span>
test.py::test_sat_big_I <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 52%]</span>
test.py::test_sat_big_J <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 58%]</span>
test.py::test_sat_big_K <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 64%]</span>
test.py::test_sat_big_L <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 70%]</span>
test.py::test_sat_big_M <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 76%]</span>
test.py::test_sat_big_N <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 82%]</span>
test.py::test_sat_big_O <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 88%]</span>
test.py::test_sat_big_P <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [ 94%]</span>
test.py::test_sat_big_Q <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                           [100%]</span>
<span style="color: #00aa00">====================== </span><span style="color: #00aa00"></span><span style="font-weight: bold; color: #00aa00">17 passed</span>, <span style="color: #aa5500">14 deselected</span><span style="color: #00aa00"> in 12.04s</span><span style="color: #00aa00"> ======================</span>
</div></p></div></div><div class="callout callout-tip"><p><b>Testing:</b> <code>python3 test.py sudoku</code> with a timeout of 20.0 seconds</p><b class="text-success">Your code passed all 3 test cases.</b><p>Your code ran for 0.443327 seconds.</p><button onclick="if(this.nextElementSibling.style.display === 'none'){this.nextElementSibling.style.display = 'block';}else{this.nextElementSibling.style.display = 'none';}">Show/Hide Output</button><div style="display:none"><p>This test produced the following output:</p><p><div style="font-family: monospace;white-space: pre-wrap; word-wrap: break-word; font-size:75%"><span style="font-weight: bold">============================= test session starts ==============================</span>
platform linux -- Python 3.12.1, pytest-8.0.0, pluggy-1.4.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /run
<span style="font-weight: bold">collecting ... </span>collected 31 items / 28 deselected / 3 selected

test.py::test_sat_sudoku1 <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                         [ 33%]</span>
test.py::test_sat_sudoku2 <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                         [ 66%]</span>
test.py::test_sat_sudoku3 <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                         [100%]</span>
<span style="color: #00aa00">======================= </span><span style="color: #00aa00"></span><span style="font-weight: bold; color: #00aa00">3 passed</span>, <span style="color: #aa5500">28 deselected</span><span style="color: #00aa00"> in 0.23s</span><span style="color: #00aa00"> =======================</span>
</div></p></div></div><div class="callout callout-tip"><p><b>Testing:</b> <code>python3 test.py unit</code> with a timeout of 60.0 seconds</p><b class="text-success">Your code passed this test case.</b><p>Your code ran for 19.663379 seconds.</p><button onclick="if(this.nextElementSibling.style.display === 'none'){this.nextElementSibling.style.display = 'block';}else{this.nextElementSibling.style.display = 'none';}">Show/Hide Output</button><div style="display:none"><p>This test produced the following output:</p><p><div style="font-family: monospace;white-space: pre-wrap; word-wrap: break-word; font-size:75%"><span style="font-weight: bold">============================= test session starts ==============================</span>
platform linux -- Python 3.12.1, pytest-8.0.0, pluggy-1.4.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /run
<span style="font-weight: bold">collecting ... </span>collected 31 items / 30 deselected / 1 selected

test.py::test_unit_clause <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                         [100%]</span>
<span style="color: #00aa00">====================== </span><span style="color: #00aa00"></span><span style="font-weight: bold; color: #00aa00">1 passed</span>, <span style="color: #aa5500">30 deselected</span><span style="color: #00aa00"> in 19.43s</span><span style="color: #00aa00"> =======================</span>
</div></p></div></div><div class="callout callout-tip"><p><b>Testing:</b> <code>python3 test.py scheduling</code> with a timeout of 10.0 seconds</p><b class="text-success">Your code passed all 6 test cases.</b><p>Your code ran for 0.540113 seconds.</p><button onclick="if(this.nextElementSibling.style.display === 'none'){this.nextElementSibling.style.display = 'block';}else{this.nextElementSibling.style.display = 'none';}">Show/Hide Output</button><div style="display:none"><p>This test produced the following output:</p><p><div style="font-family: monospace;white-space: pre-wrap; word-wrap: break-word; font-size:75%"><span style="font-weight: bold">============================= test session starts ==============================</span>
platform linux -- Python 3.12.1, pytest-8.0.0, pluggy-1.4.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /run
<span style="font-weight: bold">collecting ... </span>collected 31 items / 25 deselected / 6 selected

test.py::test_scheduling_small <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                    [ 16%]</span>
test.py::test_scheduling_A <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                        [ 33%]</span>
test.py::test_scheduling_B <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                        [ 50%]</span>
test.py::test_scheduling_C <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                        [ 66%]</span>
test.py::test_scheduling_D <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                        [ 83%]</span>
test.py::test_scheduling_E <span style="color: #00aa00">PASSED</span><span style="color: #00aa00">                                        [100%]</span>
<span style="color: #00aa00">======================= </span><span style="color: #00aa00"></span><span style="font-weight: bold; color: #00aa00">6 passed</span>, <span style="color: #aa5500">25 deselected</span><span style="color: #00aa00"> in 0.31s</span><span style="color: #00aa00"> =======================</span>
</div></p></div></div></div>
</div>
</section>
<!--END question code_submit -->
</p>
<p><script src="https://py.mit.edu/submission_nudger/socket.io/socket.io.js" type="text/javascript"></script>
<script type="text/javascript">
catsoop.nudger_id = '8c68ffc08b696b413c7771358830a8d9851cdcf6971625c18daa8cf915a60873';

var socket = io('https://py.mit.edu', {path: '/submission_nudger' + '/socket.io', autoConnect: false});

socket.on('connect', function(){
    socket.emit('hello', {id: catsoop.nudger_id});
});

socket.on('refresh', reload_code_submit);

socket.open();
</script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['satisfied1', 'q000000', 'q000001', 'd_True', 'd_True_imply', 'd_False_imply', 'q000002', 'q000003', 'q000004', 'q000005', 'q000006', 'q000007', 'q000008', 'code_submit'];
catsoop.username = 'gvargas1';
catsoop.this_path = 'https://py.mit.edu/spring24/labs/sat';
catsoop.path_info = ['spring24', 'labs', 'sat'];
catsoop.course = 'spring24';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring24">Home</a></li><li><a href="https://py.mit.edu/spring24/labs/sat">SAT Solver</a></li></nav>
<div class="cs_footer">
      This page was last updated on Thursday April 18, 2024 at 09:21:48 AM (revision <code>3f977123</code>).<br/> <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.3.118aecfb "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

