<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.3.118aecfb.  miau. -->
<meta charset="utf-8"/>
<title>Recursion and Iteration | Course Readings | 6.101 Spring 2024</title>
<link href="https://py.mit.edu/_static/spring24/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style2 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style2 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style1 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style1 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style3 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style3 [id$=nsubmits_left] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style4 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_style4 [id$=nsubmits_left] {
  display: none;
}
</style>
<style>
h2.cs_section_title {
   margin-top: 3em;
}
h3.cs_section_title {
   margin-top: 3em;
}
h4.cs_section_title {
   margin-top: 2em;
}
code.hljs {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
img.envdia {
  border-radius: 5px;
  border: 2px #ccc solid;
}
img.pixels {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}
button[id$=clearanswer] {
  display: none;
}
.flex { display: flex; flex-wrap: wrap; }
.flex > pre { flex: 1; }
.flex > img { flex: 0 1; }
</style>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function (){
    document.querySelectorAll("img.envdia").forEach(function (b){
        b.classList.add("catsoop-darkmode-invert")
    });
});
</script>
<script src="https://py.mit.edu/_static/spring24/readings/multistep.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/spring24/readings/multistep.css" rel="stylesheet"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="https://py.mit.edu/_static/_base/js/codemirror/codemirror.bundle.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring24"><img src="https://py.mit.edu/_static/spring24/logo.gif"/> 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_a47c0b052b07cf284d5c1a10c5c01779">Information<span aria-hidden="true" class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_a47c0b052b07cf284d5c1a10c5c01779" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring24/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_24270e25a5890d12811e5ddba5e4e914">gvargas1<span aria-hidden="true" class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_24270e25a5890d12811e5ddba5e4e914" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/ssh_keys" onblur="catsoop.topMenuFocus(event);" role="menuitem">Manage SSH Keys</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/_util/user_settings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Settings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring24/readings/recursion2?loginaction=logout" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log Out</a></div></div><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring24">Home</a></li><li><a href="https://py.mit.edu/spring24/readings">Course Readings</a></li><li><a href="https://py.mit.edu/spring24/readings/recursion2">Recursion and Iteration</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">Recursion and Iteration</h1></center>
<div class="callout callout-warning" markdown="">
<p>This reading is relatively new, and your feedback will help us
improve it!  If you notice mistakes (big or small), if you have questions, if
anything is unclear, if there are things not covered here that you'd like to
see covered, or if you have any other suggestions; please get in touch during
office hours or open lab hours, or via e-mail at <code>6.101-help@mit.edu</code>.</p>
</div>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_introduction">1) Introduction</a></li><li><a href="#_recursion_vs_iteration">2) Recursion vs. Iteration</a></li><li><a href="#_list_like_patterns">3) List-Like Patterns</a></li><ul><li><a href="#_accumulating_results_using_a_helper_function">3.1) Accumulating Results Using a Helper Function</a></li><li><a href="#_optimizations">3.2) Optimizations</a></li></ul><li><a href="#_tree_like_patterns">4) Tree-like Patterns</a></li><li><a href="#_graph_like_patterns">5) Graph-like Patterns</a></li><li><a href="#_when_to_use_recursion_and_when_to_use_iteration">6) When To Use Recursion and When To Use Iteration</a></li><li><a href="#_common_mistakes_in_recursion">7) Common Mistakes in Recursion</a></li><li><a href="#_generators">8) Generators</a></li><ul><li><a href="#_another_example">8.1) Another Example</a></li><li><a href="#_the_yield_from_keyword">8.2) The <code>yield from</code> Keyword</a></li><li><a href="#_questions">8.3) Questions</a></li></ul><li><a href="#_summary">9) Summary</a></li></ul>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">1) Introduction<a class="cs_permalink" href="#_introduction">§</a></h2></p>
<p>This reading examines recursion more closely by comparing and contrasting it with iteration.
Both approaches create repeated patterns of computation.  Recursion produces repeated computation by calling the same function recursively, on simpler or smaller subproblems.  Iteration produces repeated computation using <code>for</code> loops or <code>while</code> loops.</p>
<p>If we can come up with an iterative version, do we need recursion at all?
In one sense, no, we don't need recursion -- any function we can write recursively could also be written iteratively.
But, some problems lend themselves <em>naturally</em> to a recursive solution.
When we try to solve those kinds of problems iteratively instead, we find ourselves <em>simulating</em> recursion anyway, using an explicit agenda to keep track of what we need to do next.
For those kinds of problems, it's more straightforward to express the recursive algorithm directly, letting Python handle the agenda bookkeeping using its call stack.</p>
<p>The converse is also true: any function we can write iteratively, with a loop, could also be written recursively.
So, it's important to be able to think in <em>both</em> ways and choose the one that is most natural and appropriate to the problem we are trying to solve.</p>
<p>This reading looks at the essential equivalence between these approaches and some of their tradeoffs in simplicity and performance.
We'll return to some of the functions we've written in previous readings, both recursive and iterative, and show how to write each using the respective other techniques.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_recursion_vs_iteration"></a><h2 class="cs_section_title">2) Recursion vs. Iteration<a class="cs_permalink" href="#_recursion_vs_iteration">§</a></h2></p>
<p>Let's start with the simple example we used in the last reading: factorial. Mathematically, we could have used either of the following definitions of factorial:</p>
<p><div class="cs_displaymath cs_math_to_render" style="text-align:center;padding-bottom:10px;">n! = \begin{cases}
1 &amp; \text{if } n=0 \\
n \times (n-1)! &amp; \text{otherwise}
\end{cases}
</div></p>
<p>or</p>
<p><div class="cs_displaymath cs_math_to_render" style="text-align:center;padding-bottom:10px;">n! = \prod_{i=1}^{n} i</div></p>
<p>The first definition is recursive, but the second is actually iterative -- it doesn't mention <span class="cs_math_to_render">n!</span> on the right-hand side of the definition, and the right-hand side effectively describes a loop.</p>
<p>In terms of code, these definitions translate directly to either a recursive or iterative implementation:</p>
<pre><code class="language-python">def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)
</code></pre>
<pre><code class="language-python">def factorial(n):
    out = 1
    for i in range(1, n+1):
        out *= i
    return out
</code></pre>
<div class="question"><b>Check Yourself:</b><p>Which of these implementations would you choose?  What are the benefits and drawbacks of each approach?</p><p><span id="queue_checkyourself_1"></span></p></div>
<p>Here are some points of comparison:</p>
<ul>
<li>The iterative version might be more efficient because it doesn't need to create new frames for the recursive calls.</li>
<li>The recursive version might feel simpler, a better match for the mathematical definition of factorial.</li>
<li>The two versions might behave differently with <em>illegal</em> inputs, like <span class="cs_math_to_render">n &lt; 0</span>.</li>
</ul>
<p>
<!--START question factorial_iterative_negative --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_factorial_iterative_negative" style="position: static">
<div id="factorial_iterative_negative_rendered_question">
<div id="catsoop_preamble_factorial_iterative_negative"></div>
<div id="catsoop_prompt_factorial_iterative_negative" style="display: inline;">What does <code>factorial(-1)</code> do for the <em>iterative</em> version of <code>factorial</code> above?</div><div aria-labelledby="catsoop_prompt_factorial_iterative_negative" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="factorial_iterative_negative_opts_0" name="factorial_iterative_negative_opts" type="radio" value="0"/><label for="factorial_iterative_negative_opts_0">the function returns the right value</label></div>
<div style="margin-bottom: 10px;"><input checked="" id="factorial_iterative_negative_opts_1" name="factorial_iterative_negative_opts" type="radio" value="1"/><label for="factorial_iterative_negative_opts_1">the function returns an undesirable value</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_iterative_negative_opts_2" name="factorial_iterative_negative_opts" type="radio" value="2"/><label for="factorial_iterative_negative_opts_2">the function never returns</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_iterative_negative_opts_3" name="factorial_iterative_negative_opts" type="radio" value="3"/><label for="factorial_iterative_negative_opts_3">the function causes an error</label></div>
</div><input id="factorial_iterative_negative" name="factorial_iterative_negative" type="hidden" value="1"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=factorial_iterative_negative_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("factorial_iterative_negative").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="factorial_iterative_negative_buttons">
<button class="submit btn btn-catsoop" id="factorial_iterative_negative_submit" onclick="catsoop.submit('factorial_iterative_negative');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="factorial_iterative_negative_clearanswer" onclick="catsoop.clearanswer('factorial_iterative_negative');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="factorial_iterative_negative_loading_wrapper" role="status">
<span id="factorial_iterative_negative_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="factorial_iterative_negative_score_display" role="status"></span>
<div class="nsubmits_left" id="factorial_iterative_negative_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="factorial_iterative_negative_solution_container">
<div id="factorial_iterative_negative_solution">
<b>Solution:</b> the function returns an undesirable value
</div>
<div id="factorial_iterative_negative_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="factorial_iterative_negative_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question factorial_iterative_negative -->
</p>
<p>
<!--START question factorial_recursive_negative --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_factorial_recursive_negative" style="position: static">
<div id="factorial_recursive_negative_rendered_question">
<div id="catsoop_preamble_factorial_recursive_negative"></div>
<div id="catsoop_prompt_factorial_recursive_negative" style="display: inline;">What does <code>factorial(-1)</code> do for the <em>recursive</em> version of <code>factorial</code> above?</div><div aria-labelledby="catsoop_prompt_factorial_recursive_negative" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="factorial_recursive_negative_opts_0" name="factorial_recursive_negative_opts" type="radio" value="0"><label for="factorial_recursive_negative_opts_0">the function returns the right value</label></input></div>
<div style="margin-bottom: 10px;"><input id="factorial_recursive_negative_opts_1" name="factorial_recursive_negative_opts" type="radio" value="1"/><label for="factorial_recursive_negative_opts_1">the function returns an undesirable value</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_recursive_negative_opts_2" name="factorial_recursive_negative_opts" type="radio" value="2"/><label for="factorial_recursive_negative_opts_2">the function never returns</label></div>
<div style="margin-bottom: 10px;"><input checked="" id="factorial_recursive_negative_opts_3" name="factorial_recursive_negative_opts" type="radio" value="3"/><label for="factorial_recursive_negative_opts_3">the function causes an error</label></div>
</div><input id="factorial_recursive_negative" name="factorial_recursive_negative" type="hidden" value="3"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=factorial_recursive_negative_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("factorial_recursive_negative").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="factorial_recursive_negative_buttons">
<button class="submit btn btn-catsoop" id="factorial_recursive_negative_submit" onclick="catsoop.submit('factorial_recursive_negative');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="factorial_recursive_negative_clearanswer" onclick="catsoop.clearanswer('factorial_recursive_negative');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="factorial_recursive_negative_loading_wrapper" role="status">
<span id="factorial_recursive_negative_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="factorial_recursive_negative_score_display" role="status"></span>
<div class="nsubmits_left" id="factorial_recursive_negative_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="factorial_recursive_negative_solution_container">
<div id="factorial_recursive_negative_solution">
<b>Solution:</b> the function causes an error
</div>
<div id="factorial_recursive_negative_solution_explanation"><hr/><p><b>Explanation:</b></p>
<p>Although the code starts out looking like it could run forever, recursively calling <code>factorial(-2)</code>, <code>factorial(-3)</code>, and so on potentially <em>ad infinitum</em>, in practice it is limited by a maximum call-stack depth.  When a function tries to call deeper than the maximum depth, Python produces <code>RecursionError</code>.</p>
</div>
</div>
<div aria-atomic="true" id="factorial_recursive_negative_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question factorial_recursive_negative -->
</p>
<p>For either version, it would be better if the function produced an error right away when it gets an illegal input:</p>
<pre><code class="language-python">def factorial(n):
    assert n &gt;= 0, "need a nonnegative integer"
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)
</code></pre>
<p>The result of <code>factorial(-1)</code> for the recursive version points at an important difference between recursion and iteration in many programming languages (including Python): recursion is limited by a maximum call-stack depth.  In Python, this default limit is 1000 calls.  When a function tries to call deeper than that, Python produces <code>RecursionError</code>.  This limit can be increased using <a href="https://docs.python.org/3/library/sys.html#sys.setrecursionlimit"><code>sys.setrecursionlimit()</code></a>, but it can't be made unbounded, because the operating system itself puts a limit on Python's call stack.</p>
<p>
<!--START question factorial_iterative_1001 --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_factorial_iterative_1001" style="position: static">
<div id="factorial_iterative_1001_rendered_question">
<div id="catsoop_preamble_factorial_iterative_1001"></div>
<div id="catsoop_prompt_factorial_iterative_1001" style="display: inline;">What does <code>factorial(1001)</code> do for the <em>iterative</em> version of <code>factorial</code> above?</div><div aria-labelledby="catsoop_prompt_factorial_iterative_1001" role="radiogroup">
<div style="margin-bottom: 10px;"><input checked="" id="factorial_iterative_1001_opts_0" name="factorial_iterative_1001_opts" type="radio" value="0"><label for="factorial_iterative_1001_opts_0">the function returns the right value</label></input></div>
<div style="margin-bottom: 10px;"><input id="factorial_iterative_1001_opts_1" name="factorial_iterative_1001_opts" type="radio" value="1"/><label for="factorial_iterative_1001_opts_1">the function returns an undesirable value</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_iterative_1001_opts_2" name="factorial_iterative_1001_opts" type="radio" value="2"/><label for="factorial_iterative_1001_opts_2">the function never returns</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_iterative_1001_opts_3" name="factorial_iterative_1001_opts" type="radio" value="3"/><label for="factorial_iterative_1001_opts_3">the function causes an error</label></div>
</div><input id="factorial_iterative_1001" name="factorial_iterative_1001" type="hidden" value="0"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=factorial_iterative_1001_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("factorial_iterative_1001").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="factorial_iterative_1001_buttons">
<button class="submit btn btn-catsoop" id="factorial_iterative_1001_submit" onclick="catsoop.submit('factorial_iterative_1001');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="factorial_iterative_1001_clearanswer" onclick="catsoop.clearanswer('factorial_iterative_1001');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="factorial_iterative_1001_loading_wrapper" role="status">
<span id="factorial_iterative_1001_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="factorial_iterative_1001_score_display" role="status"></span>
<div class="nsubmits_left" id="factorial_iterative_1001_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="factorial_iterative_1001_solution_container">
<div id="factorial_iterative_1001_solution">
<b>Solution:</b> the function returns the right value
</div>
<div id="factorial_iterative_1001_solution_explanation"><hr/><p><b>Explanation:</b></p>
<p>The iterative version returns the correct (enormous) answer: 40278964733717086731724613...000000000.</p>
</div>
</div>
<div aria-atomic="true" id="factorial_iterative_1001_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question factorial_iterative_1001 -->
</p>
<p>
<!--START question factorial_recursive_1001 --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_factorial_recursive_1001" style="position: static">
<div id="factorial_recursive_1001_rendered_question">
<div id="catsoop_preamble_factorial_recursive_1001"></div>
<div id="catsoop_prompt_factorial_recursive_1001" style="display: inline;">What does <code>factorial(1001)</code> do for the <em>recursive</em> version of <code>factorial</code> above (assuming default Python settings)?</div><div aria-labelledby="catsoop_prompt_factorial_recursive_1001" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="factorial_recursive_1001_opts_0" name="factorial_recursive_1001_opts" type="radio" value="0"><label for="factorial_recursive_1001_opts_0">the function returns the right value</label></input></div>
<div style="margin-bottom: 10px;"><input id="factorial_recursive_1001_opts_1" name="factorial_recursive_1001_opts" type="radio" value="1"/><label for="factorial_recursive_1001_opts_1">the function returns an undesirable value</label></div>
<div style="margin-bottom: 10px;"><input id="factorial_recursive_1001_opts_2" name="factorial_recursive_1001_opts" type="radio" value="2"/><label for="factorial_recursive_1001_opts_2">the function never returns</label></div>
<div style="margin-bottom: 10px;"><input checked="" id="factorial_recursive_1001_opts_3" name="factorial_recursive_1001_opts" type="radio" value="3"/><label for="factorial_recursive_1001_opts_3">the function causes an error</label></div>
</div><input id="factorial_recursive_1001" name="factorial_recursive_1001" type="hidden" value="3"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=factorial_recursive_1001_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("factorial_recursive_1001").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="factorial_recursive_1001_buttons">
<button class="submit btn btn-catsoop" id="factorial_recursive_1001_submit" onclick="catsoop.submit('factorial_recursive_1001');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="factorial_recursive_1001_clearanswer" onclick="catsoop.clearanswer('factorial_recursive_1001');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="factorial_recursive_1001_loading_wrapper" role="status">
<span id="factorial_recursive_1001_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="factorial_recursive_1001_score_display" role="status"></span>
<div class="nsubmits_left" id="factorial_recursive_1001_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="factorial_recursive_1001_solution_container">
<div id="factorial_recursive_1001_solution">
<b>Solution:</b> the function causes an error
</div>
<div id="factorial_recursive_1001_solution_explanation"><hr/><p><b>Explanation:</b></p>
<p>The recursive version exceeds the default recursion limit of 1000, so it raises <code>RecursionError</code>.</p>
</div>
</div>
<div aria-atomic="true" id="factorial_recursive_1001_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question factorial_recursive_1001 -->
</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_list_like_patterns"></a><h2 class="cs_section_title">3) List-Like Patterns<a class="cs_permalink" href="#_list_like_patterns">§</a></h2></p>
<p>The rest of this reading is structured by looking at several common kinds of repeated computation, depending on the shape of the data it is processing: list-like (i.e., a sequence of values), tree-like, and graph-like.  We will reach back to previous readings for a recursive or iterative algorithm that we have previously looked at for each of these forms, discussing how we might write the algorithm the other way.</p>
<p>Let's start with lists.  Recall <code>sum_list</code> from the <a href="https://py.mit.edu/spring24/readings/recursion#_summing_a_list">Recursion reading</a>, which we wrote both iteratively and recursively:</p>
<pre><code class="language-python">def sum_list(x):
    sum_so_far = 0
    for num in x:
        sum_so_far += num
    return sum_so_far
</code></pre>
<pre><code class="language-python">def sum_list(x):
    if not x:
        return 0
    else:
        return x[0] + sum_list(x[1:])
</code></pre>
<p>The iterative version naturally uses a <code>for</code> loop.</p>
<p>The recursive version decomposes the list into its first element <code>x[0]</code> and the rest of the list <code>x[1:]</code>.  The rest-of-list part is the smaller recursive subproblem.  This <strong>first/rest</strong> decomposition is a very common way to deal with list-like data recursively.</p>
<div class="question"><b>Check Yourself:</b><p><p>What other recursive decompositions might be natural or plausible for list-like data?</p>
<p>And thinking back to what you learned in 6.100A/L:</p>
<ul>
<li>
<p>what decomposition does <strong>binary search</strong> (also known as bisection search) use?</p>
</li>
<li>
<p>what decomposition does <strong>merge sort</strong> use?</p>
</li>
</ul>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div>We might also imagine a decomposition that takes out the last element <code>x[-1]</code> and then recurses on the prefix of the list before it <code>x[:-1]</code>.  This might be the right decomposition for a linear search from the end of the list, for example.
<p>Binary search examines the element in the middle of a sorted list, say <code>m = len(x)//2</code>, and then recurses on either the left part <code>x[:m]</code> or the right part <code>x[m+1:]</code>, depending on whether the target element is less than or greater than <code>x[m]</code>.  This decomposition might be called middle/left/right.</p>
<p>Merge sort sorts a list by first dividing it into a left half and a right half, recursively sorting each half, and then recombining the sorted sublists by merging them together.</p></div></div>
</p><p><span id="queue_checkyourself_2"></span></p></div>
<p>Notice that, in each of these decompositions, the algorithm must be careful to make the recursive subproblems smaller.  The first/rest and middle/left/right decompositions do it by peeling off one element of the list (the first or the middle) and excluding it from the recursive subproblems, so that they are definitely smaller than the original problem.  This is how these decompositions guarantee that the subproblems are smaller than the original problem, so we will eventually terminate at the base case (which is often, but not always, the empty list).</p>
<p>
<!--START question sum_list_left_right_decomposition --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_sum_list_left_right_decomposition" style="position: static">
<div id="sum_list_left_right_decomposition_rendered_question">
<div id="catsoop_preamble_sum_list_left_right_decomposition"></div>
<div id="catsoop_prompt_sum_list_left_right_decomposition" style="display: inline;">Here is a version of <code>sum_list</code> that uses a left/right recursive decomposition:
<pre><code class="language-python">def sum_list(x):
    if not x:
        return 0
    else:
        m = len(x) // 2
        return sum_list(x[0:m]) + sum_list(x[m:])
</code></pre>
<p>What does <code>sum_list([1,2,3])</code> do for this version of <code>sum_list</code>?</p></div><div aria-labelledby="catsoop_prompt_sum_list_left_right_decomposition" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="sum_list_left_right_decomposition_opts_0" name="sum_list_left_right_decomposition_opts" type="radio" value="0"><label for="sum_list_left_right_decomposition_opts_0">the function returns the right value</label></input></div>
<div style="margin-bottom: 10px;"><input id="sum_list_left_right_decomposition_opts_1" name="sum_list_left_right_decomposition_opts" type="radio" value="1"/><label for="sum_list_left_right_decomposition_opts_1">the function returns an undesirable value</label></div>
<div style="margin-bottom: 10px;"><input id="sum_list_left_right_decomposition_opts_2" name="sum_list_left_right_decomposition_opts" type="radio" value="2"/><label for="sum_list_left_right_decomposition_opts_2">the function never returns</label></div>
<div style="margin-bottom: 10px;"><input checked="" id="sum_list_left_right_decomposition_opts_3" name="sum_list_left_right_decomposition_opts" type="radio" value="3"/><label for="sum_list_left_right_decomposition_opts_3">the function causes an error</label></div>
</div><input id="sum_list_left_right_decomposition" name="sum_list_left_right_decomposition" type="hidden" value="3"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=sum_list_left_right_decomposition_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("sum_list_left_right_decomposition").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="sum_list_left_right_decomposition_buttons">
<button class="submit btn btn-catsoop" id="sum_list_left_right_decomposition_submit" onclick="catsoop.submit('sum_list_left_right_decomposition');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="sum_list_left_right_decomposition_clearanswer" onclick="catsoop.clearanswer('sum_list_left_right_decomposition');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="sum_list_left_right_decomposition_loading_wrapper" role="status">
<span id="sum_list_left_right_decomposition_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="sum_list_left_right_decomposition_score_display" role="status"></span>
<div class="nsubmits_left" id="sum_list_left_right_decomposition_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="sum_list_left_right_decomposition_solution_container">
<div id="sum_list_left_right_decomposition_solution">
<b>Solution:</b> the function causes an error
</div>
<div id="sum_list_left_right_decomposition_solution_explanation"><hr/><p><b>Explanation:</b></p>
<p>For the original call <code>sum_list([1,2,3])</code>, <code>m = 3//2 = 1</code>, and it prepares to make recursive calls to the left part and right part of the list, <code>sum_list([1])</code> and <code>sum_list([2,3])</code>.  The recursive call to <code>sum_list([1])</code> now has <code>m=0</code>, so it splits the list into <code>sum_list([])</code> and <code>sum_list([1])</code>.  The left half <code>sum_list([])</code> will sucessfully hit the base case and return 0, but notice that the right half <code>sum_list([1])</code> is not a smaller subproblem -- it is the same problem again! So an infinite regress would happen, if not for the recursion-depth limit, so we get <code>RecursionError</code>.</p>
<p>This could be fixed either by keeping <code>x[m]</code> out of the recursive subproblems (as in the middle/left/right decomposition):</p>
<pre><code class="language-python">return sum_list(x[0:m]) + x[m] + sum_list(x[m+1:])
</code></pre>
<p>or by adding another base case for the 1-element list:</p>
<pre><code class="language-python">if not x:
    return 0
elif len(x) == 1:
    return x[0]
else:
    m = len(x) // 2
    return sum_list(x[0:m]) + sum_list(x[m:])
</code></pre>
</div>
</div>
<div aria-atomic="true" id="sum_list_left_right_decomposition_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question sum_list_left_right_decomposition -->
</p>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_accumulating_results_using_a_helper_function"></a><h3 class="cs_section_title">3.1) Accumulating Results Using a Helper Function<a class="cs_permalink" href="#_accumulating_results_using_a_helper_function">§</a></h3></p>
<p>One difference between the recursive and iterative versions of <code>sum_list</code> is the order in which they do the summation.  Although both versions consider the list elements in order from beginning to end, the recursive version defers any addition until it has reached the end of the list, and then it does the sum backwards.  So the computation ends up looking like this:</p>
<ul>
<li>iterative version: start with <code>0</code>, then add <code>x[0]</code>, then <code>x[1]</code>, then <code>x[2]</code>, ..., finally add <code>x[n-1]</code></li>
<li>recursive version: start with <code>0</code>, then add <code>x[n-1]</code>, then <code>x[n-2]</code>, then <code>x[n-3]</code>, ..., finally add <code>x[0]</code></li>
</ul>
<p>The recursive version is saving up the additions for its recombination step, when it combines the results of the recursive subproblems.</p>
<p>But, we don't have to write it this way.  We can write a recursive version that does the addition as it goes, by defining a <strong>recursive helper function</strong> to which we pass the partial sum computed so far:</p>
<pre><code class="language-python">def sum_list(x):
    def sum_helper(sum_so_far, lst):
        if not lst:
            return sum_so_far
        else:
            num = lst[0]
            rest = lst[1:]
            return sum_helper(sum_so_far + num, rest)
    return sum_helper(0, x)
</code></pre>
<p>The <code>sum_helper</code> function is a recursive helper function.  It needs to be a different function from the original <code>sum_list</code> because it has a new parameter, <code>sum_so_far</code>, that keeps track of the partial sum computed so far.  The recursive calls steadily add to <code>sum_so_far</code>, until finally reaching the end of the list (the base case), at which point the completed sum is returned as the only result.
The body of <code>sum_list</code> gets the ball rolling by calling <code>sum_helper</code> with an initial value of <code>0</code> for <code>sum_so_far</code> (which was the value returned by the base case in the previous recursive version).</p>
<p>Hiding the recursive helper function as an internal function like this is a good idea because it's only needed inside <code>sum_list</code>.
(It can also help for sharing parameters or local variables that don't need to change during the recursion, since all the calls to the recursive helper will automatically have access to variables in the enclosing function's frame, but we don't have any need for that in this case.)</p>
<p>
<!--START question sum_list_recursion_depth --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_sum_list_recursion_depth" style="position: static">
<div id="sum_list_recursion_depth_rendered_question">
<div id="catsoop_preamble_sum_list_recursion_depth"></div>
<div id="catsoop_prompt_sum_list_recursion_depth" style="display: inline;">How deep is the recursion for <code>sum_list([1,2,3,4])</code> --- specifically, how many calls to <code>sum_helper</code> are made?<br/></div><input aria-labelledby="catsoop_prompt_sum_list_recursion_depth" id="sum_list_recursion_depth" name="sum_list_recursion_depth" size="50" type="text" value="5">
</input></div><div>
<span id="sum_list_recursion_depth_buttons">
<button class="submit btn btn-catsoop" id="sum_list_recursion_depth_submit" onclick="catsoop.submit('sum_list_recursion_depth');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="sum_list_recursion_depth_clearanswer" onclick="catsoop.clearanswer('sum_list_recursion_depth');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="sum_list_recursion_depth_loading_wrapper" role="status">
<span id="sum_list_recursion_depth_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="sum_list_recursion_depth_score_display" role="status"></span>
<div class="nsubmits_left" id="sum_list_recursion_depth_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="sum_list_recursion_depth_solution_container">
<div id="sum_list_recursion_depth_solution">
<p><b>Solution:</b> <tt>5</tt><p>
</p></p>
</div>
<div id="sum_list_recursion_depth_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="sum_list_recursion_depth_message" role="status"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/><br/></div>
</div>
</section>
<!--END question sum_list_recursion_depth -->
</p>
<p>This example demonstrates a general principle: an iterative loop can be transformed into a recursive helper function, by using parameters to carry the local variables that the iterative loop updates on each iteration.</p>
<p>In the loop in <code>sum_list</code>, the relevant local variable is <code>sum_so_far</code>, and here is how the loop is transformed into the recursive version shown above:</p>
<pre><code class="language-python">def sum_list(x):
    sum_so_far = 0           # becomes initial call to sum_helper(0, x)
    for num in x:            # becomes num = lst[0], rest = lst[1:]
        sum_so_far += num    # becomes recursion step sum_helper(sum_so_far + num, rest)
    return sum_so_far        # becomes the base case
</code></pre>
<p>One trick that makes this pattern even shorter: we can eliminate the helper function <code>sum_helper</code> and instead recurse on <code>sum_list</code> itself, by giving the additional parameters default initial values.  That way, the original call initializes the recursion, and subsequent recursive calls update the parameters:</p>
<pre><code class="language-python">def sum_list(x, sum_so_far=0):
    if not x:
        return sum_so_far
    else:
        return sum_list(x[1:], sum_so_far + x[0])
</code></pre>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_optimizations"></a><h3 class="cs_section_title">3.2) Optimizations<a class="cs_permalink" href="#_optimizations">§</a></h3></p>
<p>List-like recursion in Python suffers from a couple of performance drawbacks:</p>
<ol>
<li>
<p>Every recursive call creates a new frame, and the recursion depth is limited (to 1000 calls by default). For first/rest decompositions, this means that the length of the list that can be processed is similarly limited.  (But, for other decompositions, like left-half/right-half, it's not a limitation at all.  Why not?  What is the maximum-length list that could be processed with successive halving if you are limited to 1000 recursive calls?)</p>
</li>
<li>
<p>Every recursive call in a first/rest decomposition needs to copy the rest of the list, using a slice like <code>lst[1:]</code>.
Over the course of the entire computation, all this copying adds up to time proportional to the square of the length of the list.
(Why?  If the original list has length <span class="cs_math_to_render">n</span>, then the first call copies a slice of length <span class="cs_math_to_render">n-1</span>, the next recursive call copies a slice of length <span class="cs_math_to_render">n-2</span>, and so on until reaching the end of the list. Since <span class="cs_math_to_render">(n-1) + (n-2) + \ldots + 1 = \frac{n(n-1)}{2}</span>, this means <span class="cs_math_to_render">O(n^2)</span> time is spent copying.)</p>
</li>
</ol>
<p>Both of these issues can be fixed by clever optimizations:</p>
<ol>
<li>
<p>The recursion-depth limit can be fixed by <em>tail-call optimization</em>.  If the recursion is written so that the recursive call is the last thing done in the body of the function -- like the line <code>return sum_helper(...)</code> in the recursive version of <code>sum_list</code> above -- then this recursive call is called a <em>tail call</em>, coming as it does at the tail end of the work the function has to do.  <a href="https://en.wikipedia.org/wiki/Tail_call">Tail-call optimization</a> means that, when the runtime system encounters a tail call, it deduces that it will no longer need the frame for the current call and can simply <em>reuse</em> it for the new recursive call, rather than creating a new frame. With tail-call optimization, every recursive call to <code>sum_helper</code> simply reuses the same frame, the recursion depth never exceeds 1, and the performance of the recursive version is essentially like a loop.</p>
<p>Tail-call optimization can't be applied to a recursive call that isn't at the very end of the function.  If <code>sum_list</code> were written as we originally had it, with <code>return x[0] + sum_list(x[1:])</code>, then this is not a tail call, because the function still needs to do some more work (adding <code>x[0]</code>) after the recursive call comes back.  Tail-call optimization is also blocked if the frame needs to be kept for a function object that was created during the call.</p>
<p>Python unfortunately does not implement tail-call optimization, but <a href="https://en.wikipedia.org/wiki/Tail_call#Language_support">other languages do</a>.</p>
</li>
<li>
<p>The list-copying problem can be addressed by implementing the list with a <a href="https://en.wikipedia.org/wiki/Linked_list">linked list</a> (which we will study in detail in a later week) rather than an array, so that the "rest" of a list can be obtained in constant time.  Python doesn't do that, so another way to avoid list copying in Python is to use an index to represent the rest of the list, here called <code>i</code>:</p>
</li>
</ol>
<pre><code class="language-python">def sum_list(x, i=0, sum_so_far=0):
    if i &gt;= len(x):
        return sum_so_far
    else:
        return sum_list(x, i+1, sum_so_far + x[i])
</code></pre>

<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_tree_like_patterns"></a><h2 class="cs_section_title">4) Tree-like Patterns<a class="cs_permalink" href="#_tree_like_patterns">§</a></h2></p>
<p>Having examined sequential, list-like data, let's turn now to tree-shaped data, which might go to arbitrary depth.
For example, recall <code>sum_nested</code> from the <a href="https://py.mit.edu/spring24/readings/recursion#_summing_a_nested_list">Recursion reading</a>:</p>
<pre><code class="language-python">def sum_nested(x):
    """
    &gt;&gt;&gt; sum_nested([[1, 2], [3, [4, 5]], [[[[[6]]]]]])
    21
    """
    if not x:
        return 0
    elif isinstance(x[0], list):
        return sum_nested(x[0]) + sum_nested(x[1:])
    else:
        return x[0] + sum_nested(x[1:])
</code></pre>
<p>Why do we think of the input to <code>sum_nested</code> as tree-shaped?  Because each sublist in <code>x</code> is like an internal node of a tree, with children that might be further sublists, until we reach simple numbers, which are the leaves.</p>
<p>Tree-shaped data have a straightforward recursive decomposition that mirrors the tree structure: we make recursive calls to all children until we reach the leaves.</p>
<p>But, notice that <code>sum_nested</code> as written here is not only decomposing the tree structure recursively but also decomposing the list of children recursively.</p>
<p>
<!--START question sum_nested_tree_decomposition --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_sum_nested_tree_decomposition" style="position: static">
<div id="sum_nested_tree_decomposition_rendered_question">
<div id="catsoop_preamble_sum_nested_tree_decomposition"></div>
<div id="catsoop_prompt_sum_nested_tree_decomposition" style="display: inline;">When considering <code>x</code> like a tree, which of the recursive calls in <code>sum_nested</code> goes one level deeper in the tree?<br/></div><div aria-labelledby="catsoop_prompt_sum_nested_tree_decomposition" role="radiogroup">
<div style="margin-bottom: 10px;"><input checked="" id="sum_nested_tree_decomposition_opts_0" name="sum_nested_tree_decomposition_opts" type="radio" value="0"/><label for="sum_nested_tree_decomposition_opts_0"><code>sum_nested(x[0])</code></label></div>
<div style="margin-bottom: 10px;"><input id="sum_nested_tree_decomposition_opts_1" name="sum_nested_tree_decomposition_opts" type="radio" value="1"/><label for="sum_nested_tree_decomposition_opts_1"><code>sum_nested(x[1:])</code></label></div>
</div><input id="sum_nested_tree_decomposition" name="sum_nested_tree_decomposition" type="hidden" value="0"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=sum_nested_tree_decomposition_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("sum_nested_tree_decomposition").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="sum_nested_tree_decomposition_buttons">
<button class="submit btn btn-catsoop" id="sum_nested_tree_decomposition_submit" onclick="catsoop.submit('sum_nested_tree_decomposition');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="sum_nested_tree_decomposition_clearanswer" onclick="catsoop.clearanswer('sum_nested_tree_decomposition');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="sum_nested_tree_decomposition_loading_wrapper" role="status">
<span id="sum_nested_tree_decomposition_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="sum_nested_tree_decomposition_score_display" role="status"></span>
<div class="nsubmits_left" id="sum_nested_tree_decomposition_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="sum_nested_tree_decomposition_solution_container">
<div id="sum_nested_tree_decomposition_solution">
<b>Solution:</b> <code>sum_nested(x[0])</code>
</div>
<div id="sum_nested_tree_decomposition_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="sum_nested_tree_decomposition_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question sum_nested_tree_decomposition -->
</p>
<p>
<!--START question sum_nested_list_decomposition --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_sum_nested_list_decomposition" style="position: static">
<div id="sum_nested_list_decomposition_rendered_question">
<div id="catsoop_preamble_sum_nested_list_decomposition"></div>
<div id="catsoop_prompt_sum_nested_list_decomposition" style="display: inline;">When considering <code>x</code> as a list of children, which of the calls in <code>sum_nested</code> are called on the <em>rest</em> of a first/rest decomposition of <code>x</code>?<br/></div><div aria-labelledby="catsoop_prompt_sum_nested_list_decomposition" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="sum_nested_list_decomposition_opts_0" name="sum_nested_list_decomposition_opts" type="radio" value="0"><label for="sum_nested_list_decomposition_opts_0"><code>sum_nested(x[0])</code></label></input></div>
<div style="margin-bottom: 10px;"><input checked="" id="sum_nested_list_decomposition_opts_1" name="sum_nested_list_decomposition_opts" type="radio" value="1"/><label for="sum_nested_list_decomposition_opts_1"><code>sum_nested(x[1:])</code></label></div>
</div><input id="sum_nested_list_decomposition" name="sum_nested_list_decomposition" type="hidden" value="1"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=sum_nested_list_decomposition_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("sum_nested_list_decomposition").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="sum_nested_list_decomposition_buttons">
<button class="submit btn btn-catsoop" id="sum_nested_list_decomposition_submit" onclick="catsoop.submit('sum_nested_list_decomposition');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="sum_nested_list_decomposition_clearanswer" onclick="catsoop.clearanswer('sum_nested_list_decomposition');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="sum_nested_list_decomposition_loading_wrapper" role="status">
<span id="sum_nested_list_decomposition_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="sum_nested_list_decomposition_score_display" role="status"></span>
<div class="nsubmits_left" id="sum_nested_list_decomposition_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="sum_nested_list_decomposition_solution_container">
<div id="sum_nested_list_decomposition_solution">
<b>Solution:</b> <code>sum_nested(x[1:])</code>
</div>
<div id="sum_nested_list_decomposition_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="sum_nested_list_decomposition_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question sum_nested_list_decomposition -->
</p>
<p>To convert this recursive function into an iterative loop, we will reach back to an idea that we used in earlier readings: an <em>agenda</em>.  Here, our agenda will keep track of recursive calls that we haven't made yet.  Specifically, each item on the agenda will consist of the parameters for a recursive call.  The agenda is initialized with the original list (which we will rename to <code>original_x</code> so that we can keep using <code>x</code> for the rest of the code without confusion), and then, every time we encounter a recursive call to <code>sum_nested()</code>, we put it on the agenda instead, so that it will be handled in a later iteration of the loop.  Here is the code:</p>
<pre><code class="language-python">def sum_nested(original_x):
    sum_so_far = 0
    agenda = [original_x] # agenda consists of parameters for pending recursive calls
    while agenda:
      x = agenda.pop(-1)
      if not x:
          sum_so_far += 0
      elif isinstance(x[0], list):
          agenda.append(x[0])
          agenda.append(x[1:])
      else:
          sum_so_far += x[0]
          agenda.append(x[1:])
    return sum_so_far
</code></pre>
<p>We opted in this iterative implementation to add and remove items at the end of the agenda, so that it explores the tree in the same order that the recursive algorithm does -- depth-first.  But, we didn't necessarily have to make that choice -- how could we change the code so that the iterative version is traversing the tree breadth-first instead?  Either way, it doesn't matter for <code>sum_nested</code>, since the numbers can be added in any order, but, for other problems, the order might matter.</p>
<p>Looking at the transformation we just did from the other point of view, there is an agenda data structure hiding inside the recursive version -- the agenda is just the call stack, managed by Python, and it is keeping track of the remaining work that needs to be done in the recursive process.  So, recursion gives us a convenient and simple way to express a depth-first traversal without having to manage our own agenda data structure.</p>
<p><a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_graph_like_patterns"></a><h2 class="cs_section_title">5) Graph-like Patterns<a class="cs_permalink" href="#_graph_like_patterns">§</a></h2></p>
<p>Now that we have explored the equivalence between recursive traversal and iterative (depth-first) traversal using an explicit agenda, let's go back to graph-traversal problems we explored in earlier readings.  "Graph-like" data can be regarded as vertices connected by edges, but (unlike a tree) a graph may have multiple paths reaching the same vertex, or it may have cycles (paths that return to the same vertex again).</p>
<p>In previous readings, we solved graph-traversal problems using iteration, like this <a href="https://py.mit.edu/spring24/readings/flood_fill#_finding_a_path_through_a_maze">flood-fill function</a>:</p>
<pre><code class="language-python">def flood_fill(image, starting_location, new_color):
    # recall that "*location" is equivalent to "location[0],location[1]"
    original_color = get_pixel(image, *starting_location)

    agenda = [starting_location]  # agenda: all of the cells we need to color in
    visited = {starting_location}  # visited set: all pixels ever added to the agenda
    while agenda:
        location = agenda.pop(0)
        set_pixel(image, *location, new_color)
        for neighbor in get_neighbors(location):
            if (neighbor not in visited
                    and get_pixel(image, *neighbor) == original_color):
                visited.add(neighbor)
                agenda.append(neighbor)
</code></pre>
<p>Now that we know that we can use the recursive call stack as an agenda, how can we write this recursively?  Everywhere we would put a work item on the agenda, let's make a call to a recursive helper function instead, using the work item as its parameter.  This recursive helper function replaces the <code>while</code> loop:</p>
<pre><code class="language-python">def flood_fill(image, starting_location, new_color):
    original_color = get_pixel(image, *starting_location)
    visited = {starting_location}  # visited set: all pixels ever added to the agenda
    def fill_from(location):
        set_pixel(image, *location, new_color)
        for neighbor in get_neighbors(location):
            if (neighbor not in visited
                    and get_pixel(image, *neighbor) == original_color):
                visited.add(neighbor)
                fill_from(neighbor)
    fill_from(starting_location)
</code></pre>
<div class="question"><b>Check Yourself:</b><p><p>Let's reflect on how we're using recursion here and think carefully about whether the recursion would actually stop.</p>
<p>What makes the recursive call <code>fill_from(neighbor)</code> a <em>smaller or simpler</em> subproblem?</p>
<p>And what is the base case of the recursion?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><br/>
<p>Before we make the recursive call to <code>fill_from(neighbor)</code>, we first add <code>neighbor</code> to the <code>visited</code> set, so that we won't visit that pixel again.  The graph of pixels we're trying to fill has effectively become one pixel smaller.</p>
<p>The base case happens when we have no recursive calls to make -- when we reach a pixel which is a dead end, because all its neighbor pixels are either not <code>original_color</code> or already <code>visited</code>.
</p>
</div></div>
</p><p><span id="queue_checkyourself_3"></span></p></div>
<div class="question"><b>Check Yourself:</b><p><p>The observation we just made leads to a further observation. For flood fill, we have another guarantee that the recursive subproblem is smaller.  What is it?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><br/>
<p>The fact that every recursive call changes a pixel's color from <code>original_color</code> to <code>new_color</code> <em>also</em> makes the problem smaller.  So, we actually don't need a visited set when we solve flood fill recursively!</p>
<pre><code class="language-python">def flood_fill(image, starting_location, new_color):
    original_color = get_pixel(image, *starting_location)
    if original_color == new_color:
      return # nothing to do
    def fill_from(location):
        set_pixel(image, *location, new_color)
        for neighbor in get_neighbors(location):
            if get_pixel(image, *neighbor) == original_color:
                fill_from(neighbor)
    fill_from(starting_location)
</code></pre>
</div></div>
</p><p><span id="queue_checkyourself_4"></span></p></div>
<p>
<!--START question recursive_graph_traversal_with_cycles --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_recursive_graph_traversal_with_cycles" style="position: static">
<div id="recursive_graph_traversal_with_cycles_rendered_question">
<div id="catsoop_preamble_recursive_graph_traversal_with_cycles"></div>
<div id="catsoop_prompt_recursive_graph_traversal_with_cycles" style="display: inline;">Suppose we wrote a recursive graph-traversal algorithm (not flood fill) that recursively visits the neighbors of a vertex, but we neglect to use a visited set to remember which vertices we already visited.  What could happen if the graph has cycles?</div><div aria-labelledby="catsoop_prompt_recursive_graph_traversal_with_cycles" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="recursive_graph_traversal_with_cycles_opts_0" name="recursive_graph_traversal_with_cycles_opts" type="radio" value="0"><label for="recursive_graph_traversal_with_cycles_opts_0">the recursive function runs forever without stopping</label></input></div>
<div style="margin-bottom: 10px;"><input checked="" id="recursive_graph_traversal_with_cycles_opts_1" name="recursive_graph_traversal_with_cycles_opts" type="radio" value="1"/><label for="recursive_graph_traversal_with_cycles_opts_1">the recursive function raises an error</label></div>
</div><input id="recursive_graph_traversal_with_cycles" name="recursive_graph_traversal_with_cycles" type="hidden" value="1"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=recursive_graph_traversal_with_cycles_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("recursive_graph_traversal_with_cycles").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="recursive_graph_traversal_with_cycles_buttons">
<button class="submit btn btn-catsoop" id="recursive_graph_traversal_with_cycles_submit" onclick="catsoop.submit('recursive_graph_traversal_with_cycles');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="recursive_graph_traversal_with_cycles_clearanswer" onclick="catsoop.clearanswer('recursive_graph_traversal_with_cycles');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="recursive_graph_traversal_with_cycles_loading_wrapper" role="status">
<span id="recursive_graph_traversal_with_cycles_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="recursive_graph_traversal_with_cycles_score_display" role="status"></span>
<div class="nsubmits_left" id="recursive_graph_traversal_with_cycles_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="recursive_graph_traversal_with_cycles_solution_container">
<div id="recursive_graph_traversal_with_cycles_solution">
<b>Solution:</b> the recursive function raises an error
</div>
<div id="recursive_graph_traversal_with_cycles_solution_explanation"><hr/><p><b>Explanation:</b></p>
<p>Getting caught in a cycle of the graph would lead to an infinite regress, if it weren't for the limit on recursive call depth.  Python will raise a <code>RecursionError</code> instead of running forever.</p>
</div>
</div>
<div aria-atomic="true" id="recursive_graph_traversal_with_cycles_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question recursive_graph_traversal_with_cycles -->
</p>
<p><a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_when_to_use_recursion_and_when_to_use_iteration"></a><h2 class="cs_section_title">6) When To Use Recursion and When To Use Iteration<a class="cs_permalink" href="#_when_to_use_recursion_and_when_to_use_iteration">§</a></h2></p>
<p>How might you decide to use recursion?</p>
<ul>
<li>When the problem is easy to express recursively (as factorial)</li>
<li>When the data itself is defined recursively (like a tree often is)</li>
<li>When depth-first traversal is fine</li>
<li>When the recursion won't get too deep (this constraint may be relaxed for programming languages other than Python)</li>
</ul>
<p>Recursive solutions are often shorter and simpler, by moving agenda bookkeeping into the programming language rather than representing it explicitly.</p>
<p>As you gain comfort with recursion, you may find that a recursive solution is easier to express at first, because of natural decompositions (like first/rest, or left-half/right-half, or recursing into children or graph neighbors).  So, it may be good to <em>start</em> with a recursive approach and then convert it to an iterative algorithm (using one of the strategies here) if you run into problems like recursion depth limits or excessive copying.</p>
<p><a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_common_mistakes_in_recursion"></a><h2 class="cs_section_title">7) Common Mistakes in Recursion<a class="cs_permalink" href="#_common_mistakes_in_recursion">§</a></h2></p>
<p>Here are three common ways that recursion can go wrong:</p>
<ul>
<li>The base case may be missing entirely, or the problem needs more than one base case, but not all the base cases are covered.</li>
<li>The recursive step doesn't reduce to a smaller subproblem, so the recursion doesn't converge.</li>
<li>Aliases to a mutable data structure are inadvertently shared, and mutated, among the recursive calls.</li>
</ul>
<p>We saw the first two issues in an exercise above, when we tried to convert <code>sum_list</code> to use a left/right decomposition.  When the subdivided list reached length 1, the decomposition was no longer able to make two smaller subproblems, so we needed to make that into a new base case.</p>
<p>Aliases to mutable data are sometimes <em>necessary</em> in recursion, as we saw above when we shared the <code>visited</code> set across all calls in a recursive traversal of a graph.  For flood fill, of course, sharing the mutable <code>image</code> is necessary because the whole point of the recursion is to fill in more pixels.  But, when you are doing a recursive depth-first search without a <code>visited</code> set (which, as we saw with flood fill, is often possible when a move in the search automatically makes the problem smaller or simpler), it can be tempting to keep the search state mutable.  This becomes tricky, because then multiple pending recursive calls have aliases to the same mutable state.  We will see an example of this in the next reading, when we use recursive search to solve Sudoku puzzles.</p>
<p>Look for these mistakes when you're debugging.  A <code>RecursionError</code> is a sign of the first two.  The third bug can be harder to spot, because it's fundamentally an aliasing bug.</p>
<p><a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_generators"></a><h2 class="cs_section_title">8) Generators<a class="cs_permalink" href="#_generators">§</a></h2></p>
<p>In the last part of this reading, we'll introduce a really useful feature of Python called a
<em>generator</em>.  Like ordinary functions, generators can be recursive or iterative.
Generators will be very important for a future lab, so we will start discussing them now
in order to give time to practice using them in class.</p>
<p>So far in 6.101, we've talked a lot about functions, and we know by now what
happens when we call a function: Python sets up a new frame to keep track of
local variables for the function; and, when the function finishes, we get rid of
those local variables and return a value to whomever it was that called the
function.</p>
<p>Generators are a special kind of function that work in a similar way, except
that they give us a way to <em>pause</em> their execution such that they produce a
value, but we keep their local variables around and have the ability to resume
their execution if and when we want to.</p>
<p>Before we get too much further, let's look at an example of a regular function,
and we'll see how using generators can help us out.  Here's the first example
we'll look at today, a basic reimplementation of Python's <code>range</code> function:</p>
<pre><code class="language-python"># this is just a regular function, NOT a generator
def list_range(start, stop, step=1):
    assert step &gt;= 1
    out = []
    current = start
    while current &lt; stop:
        out.append(current)
        current += step
    return out
</code></pre>
<p>Perhaps surprisingly, when we try to run the following code (which makes use of
this function), we don't see values printed to the screen immediately; rather,
the program seems to hang:</p>
<pre><code class="language-python">for i in list_range(0, 1_000_000_000_000_000, 1):
    if i &gt; 100:
        break
    print(i**2)
</code></pre>
<div class="question"><b>Check Yourself:</b><p><p>Why do we not see numbers printed to the screen right away?  What is going on?
</p></p><p><span id="queue_checkyourself_5"></span></p></div>
<p>Importantly, <strong>there is no infinite loop in this code</strong>.  But, why does our
little program appear to do nothing?</p>
<p>Well, it turns out that it <em>is</em> doing something; when we first start running
this program, Python tried to evaluate <code>list_range(0, 1_000_000_000_000_000,
1)</code>, in order to build a list that we can then loop over.  This process takes a
<em>whole bunch</em> of time and consumes a <em>whole bunch</em> of memory in order to create
that list, and only after we're done making the list will Python actually be
able to loop over it and start printing values.  In fact, this process is
going to take enough time and memory that it is not worth waiting for it to
try to finish.</p>
<p>So here, we're wasting a lot of time to build that list, and we're also wasting
a whole bunch of memory making a list containing <em>lots</em> of numbers, just so
that we can print one after the other (and only for the first 100!).  This
function is a prime candidate for replacement by a generator; it would be great
if, rather than building the whole list first, we could ask for the next number
in our range, then pause the execution of the function until we're ready for
another value.</p>
<p>It turns out that we can do this by writing <em>almost</em> exactly the same code, but
with a few tweaks:</p>
<pre><code class="language-python"># this is a GENERATOR!
def gen_range(start, stop, step=1):
    assert step &gt;= 1
    current = start
    while current &lt; stop:
        yield current
        current += step
</code></pre>
<p>Let's note that the core logic here is precisely the same as our function above.
We're looping until some condition is satisfied, adding <code>step</code> to a counter
each time through the loop, etc.  But, rather than creating an empty list,
adding elements of interest to that list, and then returning that list at the
end, we use a special keyword called <code>yield</code> on the elements of interest.</p>
<p>Whenever Python sees <code>yield</code> as part of the body of a function definition,
Python will create a generator object when we call that function, rather than
running our normal function-evaluation process.  We can try this out to
discover some things:</p>
<pre><code class="language-python">&gt;&gt;&gt; g = gen_range(0, 1_000_000_000_000_000, 1)  # this resolves _right away_, no wait
&gt;&gt;&gt; g  # g is now a generator!
&lt;generator object gen_range at 0x7f06be1a95f0&gt;
</code></pre>
<p>Importantly, when we run the above, Python has still set up a new local frame
for this generator, but it has not yet run <em>any</em> of the code in the body of the
generator.  There are multiple ways to get elements out of a generator, but
the first we'll look at is the built-in <code>next</code> function.  Calling <code>next</code> with
a generator passed in will cause Python to start running the body of the code,
run until we see a <code>yield</code>, pause the execution again, and give us the value
that was yielded from the generator.  As an example:</p>
<pre><code class="language-python">&gt;&gt;&gt; next(g)
0
</code></pre>
<p>If we then call <code>next</code> again on the same generator, execution picks up where we
had left off, and we again run the generator until we hit the next <code>yield</code>
statement, at which point <code>current</code> is equal to <code>1</code>, so we get a <code>1</code> out:</p>
<pre><code class="language-python">&gt;&gt;&gt; next(g)
1
</code></pre>
<p><code>next</code> is a good way to get individual elements from a generator, but generators
really exist to be looped over.  So we can also write code like the following:</p>
<pre><code class="language-python">for i in gen_range(0, 1_000_000_000_000_000, 1):  # loop over the generator
    if i &gt; 100:
        break
    print(i**2)
</code></pre>
<div class="question"><b>Check Yourself:</b><p><p>Try running this code -- what happens?
</p></p><p><span id="queue_checkyourself_6"></span></p></div>
<p>In that code, whenever we reach the top of the loop, we need a new value for
<code>i</code>; in order to get that value, Python will run our generator until we hit a
<code>yield</code> statement and then set <code>i</code> to be the value that was yielded, before
entering the body of the loop.</p>
<p>One important thing to note is that the code above started to print values
<em>right away</em> because, in contrast to our list example from earlier, we didn't
need to gather all of the elements together before starting in on our <code>for</code>
loop.  And, perhaps more importantly, we didn't need to waste memory building a
list containing all of these numbers before considering any of them; we
consider one of them at a time instead, saving ourselves a lot of memory
overhead.</p>
<p><a class="anchor" name="catsoop_section_8_1"></a><a class="anchor" name="_another_example"></a><h3 class="cs_section_title">8.1) Another Example<a class="cs_permalink" href="#_another_example">§</a></h3></p>
<p>The generator examples we've seen so far have been iterative, in the sense that the <code>yield</code> statement is inside a <code>while</code> loop.
Let's consider an example where the generator is recursive instead.</p>
<p>Consider the following code, which finds the set of words that can be made by combining a
subset of letters from some starting word in an arbitrary order:</p>
<pre><code class="language-python">def subwords(word):
    """
    Return all valid words that can be made from a subset of the letters in the
    original given word (regardless of order).

    &gt;&gt;&gt; result = subwords('cat')
    &gt;&gt;&gt; expected = {'cat', 'act', 'at'}
    &gt;&gt;&gt; result == expected
    True
    """
    return {w for w in subwords_helper(word) if w in ALL_WORDS}


def subwords_helper(word):
    """
    Helper function, returns all possible permutations of subsequences of x,
    regardless of whether they are real words or not.

    &gt;&gt;&gt; result = subwords_helper('cat')
    &gt;&gt;&gt; expected = {'', 'c', 'a', 't',
    ...             'ca', 'ac', 'ct', 'tc', 'ta', 'at',
    ...             'cat', 'cta', 'tac', 'tca', 'act', 'atc'}
    &gt;&gt;&gt; result == expected
    True
    """
    if not word:
        return {''}

    first = word[0]
    rest = word[1:]

    out = set()
    for w in subwords_helper(rest):
        out.add(w)
        for ix in range(len(w)+1):
            out.add(w[:ix] + first + w[ix:])
    return out
</code></pre>
<p>Notice that <code>subwords_helper</code> is a recursive helper function, using a list-like decomposition.
(In this case, we chose to define <code>subwords_helper</code> at the top level, outside of <code>subwords</code>, because it has
<a href="recursion#_aside_doctest">doctests</a>.  Using doctests for a function requires it to be defined at the top level.)</p>
<p>This code works nicely, but it takes a really long time for some inputs.  For
example, calling <code>subwords('artichokes')</code> likely takes more than 10 seconds on
most machines.</p>
<p>And we can think about why this takes so much time, too!  Well, one reason is
just that this problem is hard and takes a lot of time.  But, we're also
spending a lot of time (and memory!) building up a structure containing all of
the possible combinations of those letters (9,864,100 possibilities in the case
of <code>'artichokes'</code>), which we then filter down (to 517 results in the case of
<code>'artichokes'</code>)!  So, perhaps, we could do better by not storing all of those
possibilities in a big set, but rather using a generator for that part, so that
we can consider the possible matches one-at-a-time instead.</p>
<p>You may wish to try writing this code for yourself as a little self-exercise,
but our implementation is given below:</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><p>Note how similar the structure is to the code from above; only a few places
differ (we don't accumulate possibilities in a set and return it in the end;
rather, we <code>yield</code> possibilities as we notice them).</p>
<p>Note also, though, that if we run the generator to completion, the values that
we ultimately yield are exactly the same as the elements that we would have
added to a set before returning it in our original version.</p>
<pre><code class="language-python">def subwords(word):
    """
    Return all valid words that can be made from a subset of the letters in the
    original given word (regardless of order).

    &gt;&gt;&gt; result = subwords('cat')
    &gt;&gt;&gt; expected = {'cat', 'act', 'at'}
    &gt;&gt;&gt; result == expected
    True
    """
    return {w for w in subwords_helper(word) if w in ALL_WORDS}


# GENERATOR VERSION!
def subwords_helper(word):
    """
    Helper function, returns all possible permutations of subsequences of x,
    regardless of whether they are real words or not.

    &gt;&gt;&gt; result = set(subwords_helper('cat'))
    &gt;&gt;&gt; expected = {'', 'c', 'a', 't',
    ...             'ca', 'ac', 'ct', 'tc', 'ta', 'at',
    ...             'cat', 'cta', 'tac', 'tca', 'act', 'atc'}
    &gt;&gt;&gt; result == expected
    True
    """
    if not word:
        yield ''
        return  # return here means stop the generator entirely (no more values to yield)

    first = word[0]
    rest = word[1:]

    for w in subwords_helper(rest):  # recursive call to a generator!
        yield w

        for ix in range(len(w)+1):
            yield w[:ix] + first + w[ix:]
</code></pre>
</div></div>
<p>(If you want to try this code yourself, you can get the <code>ALL_WORDS</code> set from the <a href="graph_search#_another_example_word_ladders">word-ladder example in the Graph Search reading</a>.)</p>
<p>This new version takes about half as much time to run <code>subwords('artichokes')</code>!
Importantly, generators are not <em>always</em> faster than using other structures
like lists or sets; we need to be careful when deciding whether to use them or
not, but we've just seen a couple of examples of cases where they can make a
big difference!</p>
<p><a class="anchor" name="catsoop_section_8_2"></a><a class="anchor" name="_the_yield_from_keyword"></a><h3 class="cs_section_title">8.2) The <code>yield from</code> Keyword<a class="cs_permalink" href="#_the_yield_from_keyword">§</a></h3></p>
<p>Often, we want a generator to take elements from another iterable object and
yield them one after the other, something like the following:</p>
<pre><code class="language-python">def gen1():
    yield 1
    yield 2

def gen2():
    yield 9
    yield 8

def gen3():
    for val in gen1():
        yield val

    for val in gen2():
        yield val
</code></pre>
<p>We can accomplish the same thing by using the <code>yield from</code> keyword, which
yields each element from any iterable object in order:</p>
<pre><code class="language-py">def gen3():
    yield from gen1()
    yield from gen2()
</code></pre>
<p><a class="anchor" name="catsoop_section_8_3"></a><a class="anchor" name="_questions"></a><h3 class="cs_section_title">8.3) Questions<a class="cs_permalink" href="#_questions">§</a></h3></p>
<p>
<!--START question gen_code --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_gen_code" style="position: static">
<div id="gen_code_rendered_question">
<div id="catsoop_preamble_gen_code"></div>
<div id="catsoop_prompt_gen_code" style="display: inline;">The following code box contains a function that takes a list of
numbers as input and returns a list containing the negatives of those values.
Rewrite the code so that <code>negate_elements</code> is a generator that yields those
values instead.  You <strong>should not</strong> make a list containing all of the elements
at any point in your code.</div>
<textarea id="gen_code" name="gen_code">def negate_elements(x):
    for val in x:
        yield -val</textarea>
<script type="text/javascript">
var cs_codemirror_gen_code = catsoop.codemirror.editorFromTextArea(document.getElementById('gen_code'), 'python');
</script>
</div><div>
<span id="gen_code_buttons">
<button class="submit btn btn-catsoop" id="gen_code_submit" onclick="catsoop.submit('gen_code');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="gen_code_clearanswer" onclick="catsoop.clearanswer('gen_code');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="gen_code_loading_wrapper" role="status">
<span id="gen_code_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="gen_code_score_display" role="status"></span>
<div class="nsubmits_left" id="gen_code_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="gen_code_solution_container">
<div id="gen_code_solution">
Here is the solution we wrote:<br/>
<pre><code class="lang-python" id="gen_code_soln_highlight">def negate_elements(x):
    for val in x:
        yield -val</code></pre>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
hljs.highlightBlock(document.getElementById("gen_code_soln_highlight"));
// @license-end
</script>
</div>
<div id="gen_code_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="gen_code_message" role="status">
<br/> Your score on your most recent submission was: 100.00%<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/>
<br/><details><summary class="btn btn-catsoop">Show/Hide Detailed Results</summary><div class="response" id="gen_code_result_showhide"><h2>Test Results:</h2>
<center><h3>Test 01</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([-3, 74, 44, 67, 3, 99, 55, -69, 17, 47, 34, -27, -97, -32, 18, -52, -43, -97, -81, -69, 50, 25, 86, 66, -31, 9, -26, -56, 32, 36, 77, 64, 57, -100, -67, 46, -62, -85, -38, -42, 17, -54, -97, 42, 58, 50, 51, -67, 71])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 3, -74, [-44, -67, -3, -99, -55, 69, -17, -47, -34, 27, 97, 32, -18, 52, 43, 97, 81, 69, -50, -25, -86, -66, 31, -9, 26, 56, -32, -36, -77, -64, -57, 100, 67, -46, 62, 85, 38, 42, -17, 54, 97, -42, -58, -50, -51, 67, -71])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 3, -74, [-44, -67, -3, -99, -55, 69, -17, -47, -34, 27, 97, 32, -18, 52, 43, 97, 81, 69, -50, -25, -86, -66, 31, -9, 26, 56, -32, -36, -77, -64, -57, 100, 67, -46, 62, 85, 38, 42, -17, 54, 97, -42, -58, -50, -51, 67, -71])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 02</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([-61, 80, 81, -21, 10, 5, -97, 59, -44, -6, 10, -11, 77, -53, 68, 48, -68, 58, -9, -90, 28, 70, -90, 3, 2, 36, 44, 72, -64, 54, 37, -27, 63, -20, -97, 92, 55, -23, 48, 26, -73, -38, 50, -94, -43, 92, -29, 33, 53, 40])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 61, -80, [-81, 21, -10, -5, 97, -59, 44, 6, -10, 11, -77, 53, -68, -48, 68, -58, 9, 90, -28, -70, 90, -3, -2, -36, -44, -72, 64, -54, -37, 27, -63, 20, 97, -92, -55, 23, -48, -26, 73, 38, -50, 94, 43, -92, 29, -33, -53, -40])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 61, -80, [-81, 21, -10, -5, 97, -59, 44, 6, -10, 11, -77, 53, -68, -48, 68, -58, 9, 90, -28, -70, 90, -3, -2, -36, -44, -72, 64, -54, -37, 27, -63, 20, 97, -92, -55, 23, -48, -26, 73, 38, -50, 94, 43, -92, 29, -33, -53, -40])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 03</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([-62, -73, -77, 69, 10, 59, 69, -1])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 62, 73, [77, -69, -10, -59, -69, 1])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 62, 73, [77, -69, -10, -59, -69, 1])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 04</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([-29, -33, -91, 56, -74, -13, -17, -45, 34, -90, -83, 31, 38, 4, 67, 83, 12, 82, 80, -46, 55, 49, -46, 25, -17, -77, -92, -85, -90, -12, -72, -58, 75, -73, 75, 56, -96, -48, -51, 64, -24])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 29, 33, [91, -56, 74, 13, 17, 45, -34, 90, 83, -31, -38, -4, -67, -83, -12, -82, -80, 46, -55, -49, 46, -25, 17, 77, 92, 85, 90, 12, 72, 58, -75, 73, -75, -56, 96, 48, 51, -64, 24])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 29, 33, [91, -56, 74, 13, 17, 45, -34, 90, 83, -31, -38, -4, -67, -83, -12, -82, -80, 46, -55, -49, 46, -25, 17, 77, 92, 85, 90, 12, 72, 58, -75, 73, -75, -56, 96, 48, 51, -64, 24])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 05</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([36, 7, 81, -35, 38, -57, 96, -27, -53, -9, 57, -33, 39, 13, 40, 5, -98, -24, -53, 56, 79, -16, 66, 33, 36, -75, 76, 42, -69, -17, 49, 92, -84, 45, 77, -98, -62, -27, 91, 96, 70, 91, 56, -89, 36])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -36, -7, [-81, 35, -38, 57, -96, 27, 53, 9, -57, 33, -39, -13, -40, -5, 98, 24, 53, -56, -79, 16, -66, -33, -36, 75, -76, -42, 69, 17, -49, -92, 84, -45, -77, 98, 62, 27, -91, -96, -70, -91, -56, 89, -36])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -36, -7, [-81, 35, -38, 57, -96, 27, 53, 9, -57, 33, -39, -13, -40, -5, 98, 24, 53, -56, -79, 16, -66, -33, -36, 75, -76, -42, 69, 17, -49, -92, 84, -45, -77, 98, 62, 27, -91, -96, -70, -91, -56, 89, -36])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 06</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([85, 69, -63, 92, 53, -14, -97, -4, -92, -77, 87, 16, 5, -64, -70, 20, 34])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -85, -69, [63, -92, -53, 14, 97, 4, 92, 77, -87, -16, -5, 64, 70, -20, -34])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -85, -69, [63, -92, -53, 14, 97, 4, 92, 77, -87, -16, -5, 64, 70, -20, -34])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 07</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([46, -49, 31, -83, 70, 72, -71, 26, -75, -53, -75, 67, -97, -70, -15, 9, 18, -53, 27, 67, 65, -17, -100, 90])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -46, 49, [-31, 83, -70, -72, 71, -26, 75, 53, 75, -67, 97, 70, 15, -9, -18, 53, -27, -67, -65, 17, 100, -90])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -46, 49, [-31, 83, -70, -72, 71, -26, 75, 53, 75, -67, 97, 70, 15, -9, -18, 53, -27, -67, -65, 17, 100, -90])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 08</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([66, 41, -54, -81, -96, -8, -98, 84, -64])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -66, -41, [54, 81, 96, 8, 98, -84, 64])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -66, -41, [54, 81, 96, 8, 98, -84, 64])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 09</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([-11, -10, 92, -42, -23, 51, -4, 42, 71, -93, -23, -29, -3, -75, 43, -20])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 11, 10, [-92, 42, 23, -51, 4, -42, -71, 93, 23, 29, 3, 75, -43, 20])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, 11, 10, [-92, 42, 23, -51, 4, -42, -71, 93, 23, 29, 3, 75, -43, 20])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 10</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>out = negate_elements([42, 49, 57, -10, 62, -50, 37, 6])<br/>ans = (isinstance(out, types.GeneratorType), next(out), next(out), list(out))</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -42, -49, [-57, 10, -62, 50, -37, -6])</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, -42, -49, [-57, 10, -62, 50, -37, -6])</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
</div></details></div>
</div>
</section>
<!--END question gen_code -->
</p>
<p>
<!--START question howmany --><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_howmany" style="position: static">
<div id="howmany_rendered_question">
<div id="catsoop_preamble_howmany"></div>
<div id="catsoop_prompt_howmany" style="display: inline;">Consider the following generator:
<pre><code class="language-python">import math

def sine(period):
    n = 0
    while True:
        yield round(math.sin(n * 2 * math.pi / period), 6)
        n = (n + 1) % period
</code></pre>
<p>How many elements will the generator <code>sine(5)</code> produce if we loop over it?</p></div>
<select aria-labelledby="catsoop_prompt_howmany" id="howmany" name="howmany">
<option value="-1">--</option>
<option value="0">0.  It's not a valid generator.</option>
<option value="1">0.  It is a valid generator but doesn't yield any values.</option>
<option value="2">1</option>
<option value="3">5</option>
<option value="4">10</option>
<option value="5">50</option>
<option value="6">100</option>
<option value="7">more than 100, but finitely many</option>
<option selected="" value="8">infinitely many</option></select>
</div><div>
<span id="howmany_buttons">
<button class="submit btn btn-catsoop" id="howmany_submit" onclick="catsoop.submit('howmany');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="howmany_clearanswer" onclick="catsoop.clearanswer('howmany');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="howmany_loading_wrapper" role="status">
<span id="howmany_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="howmany_score_display" role="status"></span>
<div class="nsubmits_left" id="howmany_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="howmany_solution_container">
<div id="howmany_solution">
<b>Solution:</b> infinitely many
</div>
<div id="howmany_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="howmany_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></div>
</div>
</section>
<!--END question howmany -->
</p>
<p>
<!--START question q000000 --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;">Write a generator that yields all of the elements from
a given tree, in an arbitrary order.
<p>A node in the tree is represented as a list with the first element being the
node value, and the rest of the list being the node's children (each of which
is also a tree). That is to say, our tree structure is a nested list structure.</p>
<p>For example, the following code (<code>tree1</code>) and picture represent the same tree.</p>
<pre><code class="language-py">tree1 = [13,
          [7],
          [8,
            [99],
            [16,
              [77]],
            [42]]]
</code></pre>
<center>
<img align="center" src="https://py.mit.edu/_static/spring24/readings/recursion2/tree1.png" width="200"/>
</center>
<p>Your generator should take in a tree in this format, and it should yield
each of the node values in an abitrary order.</p></div>
<textarea id="q000000" name="q000000">def all_values(tree):        
    if isinstance(tree, list):
        for node in tree:
            yield from all_values(node) 
    else:
        yield tree
</textarea>
<script type="text/javascript">
var cs_codemirror_q000000 = catsoop.codemirror.editorFromTextArea(document.getElementById('q000000'), 'python');
</script>
</div><div>
<span id="q000000_buttons">
<button class="submit btn btn-catsoop" id="q000000_submit" onclick="catsoop.submit('q000000');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="q000000_clearanswer" onclick="catsoop.clearanswer('q000000');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status">You have submitted this assignment 6 times.</div></div>
<div class="solution" id="q000000_solution_container">
<div id="q000000_solution">
Here is the solution we wrote:<br/>
<pre><code class="lang-python" id="q000000_soln_highlight">def all_values(tree):
    yield tree[0]
    for child in tree[1:]:
        yield from all_values(child)
</code></pre>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
hljs.highlightBlock(document.getElementById("q000000_soln_highlight"));
// @license-end
</script>
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status">
<br/> Your score on your most recent submission was: 100.00%<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/>
<br/><details open=""><summary class="btn btn-catsoop">Show/Hide Detailed Results</summary><div class="response" id="q000000_result_showhide"><h2>Test Results:</h2>
<center><h3>Test 01</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>tree = [13, [7], [8, [99], [16, [77]], [42]]]<br/>g = all_values(tree)<br/>l = list(g)<br/>ans = (isinstance(g, types.GeneratorType), {k: l.count(k) for k in set(l)})</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {99: 1, 7: 1, 8: 1, 42: 1, 13: 1, 77: 1, 16: 1})</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {99: 1, 7: 1, 8: 1, 42: 1, 13: 1, 77: 1, 16: 1})</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 02</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>tree = [1, [2, [3, [3], [5], [6, [8]]]], [7, ['cat']]]<br/>g = all_values(tree)<br/>l = list(g)<br/>ans = (isinstance(g, types.GeneratorType), {k: l.count(k) for k in set(l)})</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {1: 1, 2: 1, 3: 2, 5: 1, 6: 1, 7: 1, 8: 1, 'cat': 1})</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {1: 1, 2: 1, 3: 2, 5: 1, 6: 1, 7: 1, 8: 1, 'cat': 1})</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 03</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>tree = [9]<br/>g = all_values(tree)<br/>l = list(g)<br/>ans = (isinstance(g, types.GeneratorType), {k: l.count(k) for k in set(l)})</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {9: 1})</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {9: 1})</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
<p></p><hr/><p></p>
<center><h3>Test 04</h3>
<i></i></center><p></p>
The test case was:<br/>
<p><tt>#Your Code Here<br/>import types<br/>tree = [9, [2], [3, [99], [16, [7]], [42]]]<br/>g = all_values(tree)<br/>l = list(g)<br/>ans = (isinstance(g, types.GeneratorType), {k: l.count(k) for k in set(l)})</tt></p><p> </p>
<p>Our solution produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {2: 1, 99: 1, 3: 1, 7: 1, 9: 1, 42: 1, 16: 1})</tt></font></p><p> </p>
<p>Your submission produced the following value for <tt>ans</tt>:
<br/><font color="blue"><tt style="white-space: pre-wrap">(True, {2: 1, 99: 1, 3: 1, 7: 1, 9: 1, 42: 1, 16: 1})</tt></font><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="/></p>
</div></details></div>
</div>
</section>
<!--END question q000000 -->
</p>
<p><a class="anchor" name="catsoop_section_9"></a><a class="anchor" name="_summary"></a><h2 class="cs_section_title">9) Summary<a class="cs_permalink" href="#_summary">§</a></h2></p>
<p>We have explored several kinds of problems, based on the shape of the data or repeated computation that needs to be done (list-like, tree-like, graph-like), and have seen how to do the repeated computation both recursively and iteratively.</p>
<p>Along the way, we've seen more strategies for thinking recursively, including:</p>
<ul>
<li>recursive decompositions that are commonly used for list-like data (first/rest, left-half/right-half), tree-like data (recursing into children), and graph-like data (recursing to neighbors);</li>
<li>using a recursive helper function with parameters that accumulate partial results;</li>
<li>using recursion for a depth-first traversal of a tree or graph.</li>
</ul>
<p>We've also explored the idea of a generator, a kind of function that produces a sequence of values without having to hold the entire sequence in memory.  A generator pauses its computation whenever a value is produced (so that the caller can use it) and then resumes its computation when it's time to get the next value.</p>
<p><script type="text/javascript">
catsoop.callbacks['submit'] = function(ok, names, status, response){
    response = JSON.parse(response);
    if (response[names[0]].score == 1){
        document.getElementById(names[0] + '_viewanswer').click();
    }
}
</script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['factorial_iterative_negative', 'factorial_recursive_negative', 'factorial_iterative_1001', 'factorial_recursive_1001', 'sum_list_left_right_decomposition', 'sum_list_recursion_depth', 'sum_nested_tree_decomposition', 'sum_nested_list_decomposition', 'recursive_graph_traversal_with_cycles', 'gen_code', 'howmany', 'q000000'];
catsoop.username = 'gvargas1';
catsoop.this_path = 'https://py.mit.edu/spring24/readings/recursion2';
catsoop.path_info = ['spring24', 'readings', 'recursion2'];
catsoop.course = 'spring24';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = ["factorial_iterative_negative", "factorial_recursive_negative", "factorial_iterative_1001", "factorial_recursive_1001", "sum_list_left_right_decomposition", "sum_list_recursion_depth", "sum_nested_tree_decomposition", "sum_nested_list_decomposition", "recursive_graph_traversal_with_cycles", "gen_code", "howmany", "q000000"];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring24">Home</a></li><li><a href="https://py.mit.edu/spring24/readings">Course Readings</a></li><li><a href="https://py.mit.edu/spring24/readings/recursion2">Recursion and Iteration</a></li></nav>
<div class="cs_footer">
      This page was last updated on Sunday March 31, 2024 at 10:22:29 AM (revision <code>acac5ae9</code>).<br/> <br/>
<center><img src="https://py.mit.edu/_static/spring24/readings/cc-by-sa.svg" style="width: 2cm;"/></center><div style="max-width: 600px; margin-bottom:1em; margin-left:auto; margin-right:auto;">Except where otherwise noted, these readings are licensed under a<br/><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">Creative Commons BY-SA 4.0</a> license.  Portions of the readings were derived from<br/>or inspired by the <a href="https://web.mit.edu/6.031/www/sp24/" target="_blank">6.031 Course Notes</a>, the <a href="https://hz.mit.edu/catsoop/6.145" target="_blank">6.145 Course Notes</a>, and the 6.01 Course Notes.
</div>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.3.118aecfb "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

